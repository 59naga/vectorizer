function Vectorizer(){}Vectorizer.successClass="vectorized",Vectorizer.notFoundSVG='<svg viewBox="0 0 1 1" shape-rendering="crispEdges" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M0,0h1v1h-1Z" fill="rgba(0,0,0,0.50)"></path></svg>',Vectorizer.notFoundSVGURL="data:image/svg+xml;base64,"+btoa(Vectorizer.notFoundSVG),Vectorizer.createElement=document.createElementNS.bind(document,"http://www.w3.org/2000/svg"),Vectorizer.autoReplace=!0,addEventListener("load",function(){Vectorizer.autoReplace!==!1&&Vectorizer.convertToSVGAsync("img.vectorize")}),Vectorizer.convertToSVG=function(t,e,r){var n=r&&r.convertType?r.convertType:"";if(t.className&&t.className.indexOf(Vectorizer.successClass)>-1)return void(e&&e(null,t.src));var i=localStorage.getItem(t.src);if(i){if("dataurl"==n){var o=Vectorizer.getDataURL(i);return e&&e(null,o)}return e&&e(null,i)}Vectorizer.readImageData(t,function(r,i){if(r)return e&&e(r,"dataurl"==n?Vectorizer.notFoundSVGURL:Vectorizer.notFoundSVG);var o=Vectorizer.createSVG(i),a=document.createElement("div").appendChild(o).parentNode.innerHTML;try{localStorage.setItem(t.src,a)}catch(r){}return e&&e(null,"dataurl"==n?Vectorizer.getDataURL(a):a)})},Vectorizer.convertToSVGAsync=function(t,e){var r=[],n=[].slice.call(document.querySelectorAll(t));n.forEach(function(t){r.push(function(e){Vectorizer.convertToSVG(t,function(r,n){t.src=n,-1==t.className.indexOf(Vectorizer.successClass)&&(t.className+=" "+Vectorizer.successClass),e(null,n)},{convertType:"dataurl"})})}),Vectorizer.async(r,e,!0)},Vectorizer.replaceToSVGAsync=function(t,e){var r=[],n=[].slice.call(document.querySelectorAll(t));n.forEach(function(t){r.push(function(e){Vectorizer.convertToSVG(t,function(r,n){var i=Vectorizer.exchange(t,n);return e(null,i)})})}),Vectorizer.async(r,e,!0)},Vectorizer.getFile=function(t){var e=t.dataTransfer?t.dataTransfer.files[0]:t.target.files[0];e=e?e:{},e.not_image=e.type?-1===e.type.indexOf("image/"):!0,e.not_sixk=e.size?e.size>=6e5:!0;var r=e.type?e.type.split("/",2)[1]:"";return e.is_eightbit=["gif","png"].indexOf(r)>-1,e},Vectorizer.getDataURL=function(t,e){return e=null!=e?e:"image/svg+xml","data:"+e+";base64,"+btoa(t)},Vectorizer.getImageData=function(t){var e=document.createElement("canvas"),r=e.getContext("2d");return r.canvas.width=t.width,r.canvas.height=t.height,r.drawImage(t,0,0,t.width,t.height),r.getImageData(0,0,t.width,t.height)},Vectorizer.getTransparentColor=function(t){for(var e=null,r=0;r<t.length;r+=4){var n=0==t[r+3];if(n){var i=("0"+t[r+0].toString(16)).slice(-2),o=("0"+t[r+0].toString(16)).slice(-2),a=("0"+t[r+0].toString(16)).slice(-2);e=Number("0x"+i+o+a);break}}return e},Vectorizer.async=function(t,e,r){r=null!=r?r:!1;var n=0,i=[],o=function(a,s){if(n>0&&i.push(s),null!=a&&r===!1)return e&&e(a,i);var u=t[n++];return null==u?e&&e(null,i):void u(o)};o()},Vectorizer.exchange=function(t,e){var r=document.createElement("div");r.innerHTML=e;var n=r.querySelector("*");return n&&null!=t.parentNode&&t.parentNode.replaceChild(n,t),n},Vectorizer.wrap=function(t,e){var r=document.createElement("div");return r.appendChild(t.cloneNode(!0)),r.setAttribute("class",e),t.parentNode.replaceChild(r,t)},Vectorizer.readImageData=function(t,e){var r=new Image;r.src=t.src,r.addEventListener("load",function(){var t=document.createElement("canvas"),n=t.getContext("2d");t.width=r.width,t.height=r.height;try{n.drawImage(r,0,0)}catch(i){return e(i)}try{var o=n.getImageData(0,0,t.width,t.height)}catch(i){return e(i)}e(null,o)}),r.addEventListener("error",function(t){return e&&e(t)})},Vectorizer.createSVG=function(t){var e=Vectorizer.createElement("svg");return e.setAttributeNS(null,"shape-rendering","crispEdges"),e.setAttributeNS(null,"version","1.1"),e.setAttribute("xmlns","http://www.w3.org/2000/svg"),e.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),null!=t&&(e.setAttributeNS(null,"viewBox","0 0 "+t.width+" "+t.height),e.appendChild(Vectorizer.convertToG(t))),e},Vectorizer.convertToG=function(t){var e=Vectorizer.createElement("g"),r=Vectorizer.convertToColorAndPoints(t);for(var n in r){var i=[],o=Vectorizer.convertToLines(r[n]);o.forEach(function(t){i.push(Vectorizer.convertToD(t))});var a={};a.fill=n,a.d=i.join("");var s=Vectorizer.createElement("path");for(var u in a){var f=a[u];s.setAttributeNS(null,u,f)}e.appendChild(s)}return e},Vectorizer.convertToColorAndPoints=function(t){for(var e={},r=0;r<t.data.length;r+=4)if(0!==t.data[r+3]){var n=[];n.push(t.data[r+0]),n.push(t.data[r+1]),n.push(t.data[r+2]),n.push((t.data[r+3]/255).toFixed(2));var i="rgba("+n.join(",")+")";null==e[i]&&(e[i]=[]);var o=r/4%t.width,a=~~(r/4/t.width);e[i].push(new Vectorizer.point(o,a))}return e},Vectorizer.convertToLines=function(t){var e=[];return t.forEach(function(t){var r=e[e.length-1]||{},n=r.y===t.y&&r.x+r.width===t.x;if(n)return r.width++;var i=new Vectorizer.rect(t);e.push(i)}),e},Vectorizer.convertToD=function(t){return"M"+t.x+","+t.y+"h"+t.width+"v"+t.height+"h-"+t.width+"Z"},Vectorizer.point=function(t,e){this.x=t,this.y=e},Vectorizer.rect=function(t){this.x=t.x,this.y=t.y,this.width=1,this.height=1},Vectorizer.Gif=function(){},Vectorizer.Gif.convertToGIF=function(t,e){var r=new Image;r.src=URL.createObjectURL(t),r.addEventListener("error",e),r.addEventListener("load",function(){var t=Vectorizer.getImageData(r),n=Vectorizer.getTransparentColor(t.data),i=new GIF({workers:2,quality:10,transparent:n});i.addFrame(this),i.render({globalPalette:!0}),i.on("error",e),i.on("finished",function(t){e(null,t)})})},Vectorizer.Gif.convertToEightbit=function(t,e){var r=!(t.is_eightbit&&t.has_palette);return r?Vectorizer.Gif.convertToGIF(t,function(t,r){return e(t,r)}):e(null,t)},Vectorizer.Pixelutil=function(){},Vectorizer.Pixelutil.loadImage=function(t,e){return t instanceof File||t instanceof Blob?PixelUtil.read(t,e):PixelUtil.load(t,e)},Vectorizer.Gify=function(){},Vectorizer.Gify.Frame=function(t,e){var r={},n=require("gify-parse"),i=require("get-pixels");i(t,function(i,o){r.pixels=o;var a=o.shape.slice();r.width=a[1],r.height=a[2],r.channel=a[3],r["byte"]=r.width*r.height*r.channel,r.length=a[0];var s=new XMLHttpRequest;s.open("GET",t,!0),s.responseType="arraybuffer",s.onload=function(){var t=n.getInfo(s.response);r.delays=t.images.map(function(t){return t.delay}),r.disposals=t.images.map(function(t){return t.disposal}),e(null,r)},s.send()})},Vectorizer.Gify.createAnime=function(t){var e=Vectorizer.createSVG();e.setAttributeNS(null,"viewBox","0 0 "+t.width+" "+t.height);var r=Vectorizer.createElement("use");r.setAttributeNS(null,"id","anime"),r.setAttributeNS("http://www.w3.org/1999/xlink","href",""),e.appendChild(r);var n=Vectorizer.Gify.convertToAnimeFrames(t);e.appendChild(n);var i=Vectorizer.createElement("script");return i.textContent="("+Vectorizer.Gify.AnimeScript.toString()+")()",e.appendChild(i),e},Vectorizer.Gify.AnimeScript=function(){function t(t,e,r){function n(){var e=i.frames[i.i++];if(null!=e||(r&&r("ended",i),i.i=0,e=i.frames[i.i++],null!=e)){var o=e.getAttribute("id");null==o&&(o=i.serial+"_"+("0000"+i.i).slice(-5),e.setAttribute("id",o)),document.querySelector(t).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+o);var a=e.getAttribute("delay");i.id=setTimeout(n,a)}}var i=this;i.i=0,i.serial="A"+Math.random().toString(36).slice(-8),i.framesElement=document.querySelector(e),i.framesElement.setAttribute("style","display:none"),i.frames=[].slice.call(i.framesElement.parentNode.querySelectorAll(e+">g")),i.id=n()}new t("#anime","#animeFrames")},Vectorizer.Gify.convertToAnimeFrames=function(t){var e=Vectorizer.createElement("g");e.setAttributeNS(null,"id","animeFrames");var r=document.createElement("canvas"),n=r.getContext("2d");r.width=t.width,r.height=t.height;for(var i=n.createImageData(t.width,t.height),o=0;o<t.length;o++){3===t.disposals[o]&&(i=n.createImageData(t.width,t.height));for(var a=0;a<t["byte"];a+=4)0!==t.pixels.data[a+3+t["byte"]*o]&&(i.data[a+0]=t.pixels.data[t["byte"]*o+a+0],i.data[a+1]=t.pixels.data[t["byte"]*o+a+1],i.data[a+2]=t.pixels.data[t["byte"]*o+a+2],i.data[a+3]=t.pixels.data[t["byte"]*o+a+3]);var s=Vectorizer.convertToG(i);s.setAttribute("delay",t.delays[o]),e.appendChild(s)}return e},require=function t(e,r,n){function i(a,s){if(!r[a]){if(!e[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var f=new Error("Cannot find module '"+a+"'");throw f.code="MODULE_NOT_FOUND",f}var h=r[a]={exports:{}};e[a][0].call(h.exports,function(t){var r=e[a][1][t];return i(r?r:t)},h,h.exports,t,e,r,n)}return r[a].exports}for(var o="function"==typeof require&&require,a=0;a<n.length;a++)i(n[a]);return i}({1:[function(t,e){(function(t){function r(e){if(!/^data\:/i.test(e))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');e=e.replace(/\r?\n/g,"");var r=e.indexOf(",");if(-1===r||4>=r)throw new TypeError("malformed data: URI");for(var n=e.substring(5,r).split(";"),i=!1,o="US-ASCII",a=0;a<n.length;a++)"base64"==n[a]?i=!0:0==n[a].indexOf("charset=")&&(o=n[a].substring(8));var s=unescape(e.substring(r+1)),u=i?"base64":"ascii",f=new t(s,u);return f.type=n[0]||"text/plain",f.charset=o,f}e.exports=r}).call(this,t("buffer").Buffer)},{buffer:13}],2:[function(t,e){"use strict";var r=t("ndarray"),n=t("./doConvert.js");e.exports=function(t,e){for(var i=[],o=t,a=1;o instanceof Array;)i.push(o.length),a*=o.length,o=o[0];return 0===i.length?r():(e||(e=r(new Float64Array(a),i)),n(e,t),e)}},{"./doConvert.js":3,ndarray:8}],3:[function(t,e){e.exports=t("cwise-compiler")({args:["array","scalar","index"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{\nvar _inline_1_v=_inline_1_arg1_,_inline_1_i\nfor(_inline_1_i=0;_inline_1_i<_inline_1_arg2_.length-1;++_inline_1_i) {\n_inline_1_v=_inline_1_v[_inline_1_arg2_[_inline_1_i]]\n}\n_inline_1_arg0_=_inline_1_v[_inline_1_arg2_[_inline_1_arg2_.length-1]]\n}",args:[{name:"_inline_1_arg0_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg2_",lvalue:!1,rvalue:!0,count:4}],thisVars:[],localVars:["_inline_1_i","_inline_1_v"]},post:{body:"{}",args:[],thisVars:[],localVars:[]},funcName:"convert",blockSize:64})},{"cwise-compiler":4}],4:[function(t,e){"use strict";function r(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}function n(t){var e=new r;e.pre=t.pre,e.body=t.body,e.post=t.post;var n=t.args.slice(0);e.argTypes=n.slice(0);for(var o=0;o<n.length;++o){var a=n[o];if("array"===a){if(e.arrayArgs.push(o),e.shimArgs.push("array"+o),o<e.pre.args.length&&e.pre.args[o].count>0)throw new Error("cwise: pre() block may not reference array args");if(o<e.post.args.length&&e.post.args[o].count>0)throw new Error("cwise: post() block may not reference array args")}else if("scalar"===a)e.scalarArgs.push(o),e.shimArgs.push("scalar"+o);else if("index"===a){if(e.indexArgs.push(o),o<e.pre.args.length&&e.pre.args[o].count>0)throw new Error("cwise: pre() block may not reference array index");if(o<e.body.args.length&&e.body.args[o].lvalue)throw new Error("cwise: body() block may not write to array index");if(o<e.post.args.length&&e.post.args[o].count>0)throw new Error("cwise: post() block may not reference array index")}else if("shape"===a){if(e.shapeArgs.push(o),o<e.pre.args.length&&e.pre.args[o].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(o<e.body.args.length&&e.body.args[o].lvalue)throw new Error("cwise: body() block may not write to array shape");if(o<e.post.args.length&&e.post.args[o].lvalue)throw new Error("cwise: post() block may not write to array shape")}else{if("object"!=typeof a||!a.offset)throw new Error("cwise: Unknown argument type "+n[o]);e.argTypes[o]="offset",e.offsetArgs.push({array:a.array,offset:a.offset}),e.offsetArgIndex.push(o)}}if(e.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(e.pre.args.length>n.length)throw new Error("cwise: Too many arguments in pre() block");if(e.body.args.length>n.length)throw new Error("cwise: Too many arguments in body() block");if(e.post.args.length>n.length)throw new Error("cwise: Too many arguments in post() block");return e.debug=!!t.printCode||!!t.debug,e.funcName=t.funcName||"cwise",e.blockSize=t.blockSize||64,i(e)}var i=t("./lib/thunk.js");e.exports=n},{"./lib/thunk.js":6}],5:[function(t,e){"use strict";function r(t,e,r){var n,i,o=t.length,a=e.arrayArgs.length,s=e.indexArgs.length>0,u=[],f=[],h=0,c=0;for(n=0;o>n;++n)f.push(["i",n,"=0"].join(""));for(i=0;a>i;++i)for(n=0;o>n;++n)c=h,h=t[n],f.push(0===n?["d",i,"s",n,"=t",i,"[",h,"]"].join(""):["d",i,"s",n,"=(t",i,"[",h,"]-s",c,"*t",i,"[",c,"])"].join(""));for(u.push("var "+f.join(",")),n=o-1;n>=0;--n)h=t[n],u.push(["for(i",n,"=0;i",n,"<s",h,";++i",n,"){"].join(""));for(u.push(r),n=0;o>n;++n){for(c=h,h=t[n],i=0;a>i;++i)u.push(["p",i,"+=d",i,"s",n].join(""));s&&(n>0&&u.push(["index[",c,"]-=s",c].join("")),u.push(["++index[",h,"]"].join(""))),u.push("}")}return u.join("\n")}function n(t,e,n,i){for(var o=e.length,a=n.arrayArgs.length,s=n.blockSize,u=n.indexArgs.length>0,f=[],h=0;a>h;++h)f.push(["var offset",h,"=p",h].join(""));for(var h=t;o>h;++h)f.push(["for(var j"+h+"=SS[",e[h],"]|0;j",h,">0;){"].join("")),f.push(["if(j",h,"<",s,"){"].join("")),f.push(["s",e[h],"=j",h].join("")),f.push(["j",h,"=0"].join("")),f.push(["}else{s",e[h],"=",s].join("")),f.push(["j",h,"-=",s,"}"].join("")),u&&f.push(["index[",e[h],"]=j",h].join(""));for(var h=0;a>h;++h){for(var c=["offset"+h],l=t;o>l;++l)c.push(["j",l,"*t",h,"[",e[l],"]"].join(""));f.push(["p",h,"=(",c.join("+"),")"].join(""))}f.push(r(e,n,i));for(var h=t;o>h;++h)f.push("}");return f.join("\n")}function i(t){for(var e=0,r=t[0].length;r>e;){for(var n=1;n<t.length;++n)if(t[n][e]!==t[0][e])return e;++e}return e}function o(t,e,r){for(var n=t.body,i=[],o=[],a=0;a<t.args.length;++a){var s=t.args[a];if(!(s.count<=0)){var u=new RegExp(s.name,"g"),f="",h=e.arrayArgs.indexOf(a);switch(e.argTypes[a]){case"offset":var c=e.offsetArgIndex.indexOf(a),l=e.offsetArgs[c];h=l.array,f="+q"+c;case"array":f="p"+h+f;var d="l"+a,p="a"+h;1===s.count?"generic"===r[h]?s.lvalue?(i.push(["var ",d,"=",p,".get(",f,")"].join("")),n=n.replace(u,d),o.push([p,".set(",f,",",d,")"].join(""))):n=n.replace(u,[p,".get(",f,")"].join("")):n=n.replace(u,[p,"[",f,"]"].join("")):"generic"===r[h]?(i.push(["var ",d,"=",p,".get(",f,")"].join("")),n=n.replace(u,d),s.lvalue&&o.push([p,".set(",f,",",d,")"].join(""))):(i.push(["var ",d,"=",p,"[",f,"]"].join("")),n=n.replace(u,d),s.lvalue&&o.push([p,"[",f,"]=",d].join("")));break;case"scalar":n=n.replace(u,"Y"+e.scalarArgs.indexOf(a));break;case"index":n=n.replace(u,"index");break;case"shape":n=n.replace(u,"shape")}}}return[i.join("\n"),n,o.join("\n")].join("\n").trim()}function a(t){for(var e=new Array(t.length),r=!0,n=0;n<t.length;++n){var i=t[n],o=i.match(/\d+/);o=o?o[0]:"",e[n]=0===i.charAt(0)?"u"+i.charAt(1)+o:i.charAt(0)+o,n>0&&(r=r&&e[n]===e[n-1])}return r?e[0]:e.join("")}function s(t,e){for(var s=0|e[1].length,f=new Array(t.arrayArgs.length),h=new Array(t.arrayArgs.length),c=["SS"],l=["'use strict'"],d=[],p=0;s>p;++p)d.push(["s",p,"=SS[",p,"]"].join(""));for(var g=0;g<t.arrayArgs.length;++g)c.push("a"+g),c.push("t"+g),c.push("p"+g),h[g]=e[2*g],f[g]=e[2*g+1];for(var g=0;g<t.scalarArgs.length;++g)c.push("Y"+g);if(t.shapeArgs.length>0&&d.push("shape=SS.slice(0)"),t.indexArgs.length>0){for(var v=new Array(s),g=0;s>g;++g)v[g]="0";d.push(["index=[",v.join(","),"]"].join(""))}for(var g=0;g<t.offsetArgs.length;++g){for(var y=t.offsetArgs[g],w=[],p=0;p<y.offset.length;++p)0!==y.offset[p]&&w.push(1===y.offset[p]?["t",y.array,"[",p,"]"].join(""):[y.offset[p],"*t",y.array,"[",p,"]"].join(""));d.push(0===w.length?"q"+g+"=0":["q",g,"=(",w.join("+"),")|0"].join(""))}var b=u([].concat(t.pre.thisVars).concat(t.body.thisVars).concat(t.post.thisVars));d=d.concat(b),l.push("var "+d.join(","));for(var g=0;g<t.arrayArgs.length;++g)l.push("p"+g+"|=0");t.pre.body.length>3&&l.push(o(t.pre,t,h));var m=o(t.body,t,h),_=i(f);l.push(s>_?n(_,f[0],t,m):r(f[0],t,m)),t.post.body.length>3&&l.push(o(t.post,t,h)),t.debug&&console.log("Generated cwise routine for ",e,":\n\n",l.join("\n"));var A=[t.funcName||"unnamed","_cwise_loop_",f[0].join("s"),"m",_,a(h)].join(""),E=new Function(["function ",A,"(",c.join(","),"){",l.join("\n"),"} return ",A].join(""));return E()}var u=t("uniq");e.exports=s},{uniq:7}],6:[function(t,e){"use strict";function r(t){var e=["'use strict'","var CACHED={}"],r=[],i=t.funcName+"_cwise_thunk";e.push(["return function ",i,"(",t.shimArgs.join(","),"){"].join(""));for(var o=[],a=[],s=[["array",t.arrayArgs[0],".shape"].join("")],u=0;u<t.arrayArgs.length;++u){var f=t.arrayArgs[u];r.push(["t",f,"=array",f,".dtype,","r",f,"=array",f,".order"].join("")),o.push("t"+f),o.push("r"+f),a.push("t"+f),a.push("r"+f+".join()"),s.push("array"+f+".data"),s.push("array"+f+".stride"),s.push("array"+f+".offset|0")}for(var u=0;u<t.scalarArgs.length;++u)s.push("scalar"+t.scalarArgs[u]);r.push(["type=[",a.join(","),"].join()"].join("")),r.push("proc=CACHED[type]"),e.push("var "+r.join(",")),e.push(["if(!proc){","CACHED[type]=proc=compile([",o.join(","),"])}","return proc(",s.join(","),")}"].join("")),t.debug&&console.log("Generated thunk:",e.join("\n"));var h=new Function("compile",e.join("\n"));return h(n.bind(void 0,t))}var n=t("./compile.js");e.exports=r},{"./compile.js":5}],7:[function(t,e){"use strict";function r(t,e){for(var r=1,n=t.length,i=t[0],o=t[0],a=1;n>a;++a)if(o=i,i=t[a],e(i,o)){if(a===r){r++;continue}t[r++]=i}return t.length=r,t}function n(t){for(var e=1,r=t.length,n=t[0],i=t[0],o=1;r>o;++o,i=n)if(i=n,n=t[o],n!==i){if(o===e){e++;continue}t[e++]=n}return t.length=e,t}function i(t,e,i){return 0===t.length?[]:e?(i||t.sort(e),r(t,e)):(i||t.sort(),n(t))}e.exports=i},{}],8:[function(t,e){(function(r){function n(t,e){return t[0]-e[0]}function i(){var t,e=this.stride,r=new Array(e.length);for(t=0;t<r.length;++t)r[t]=[Math.abs(e[t]),t];r.sort(n);var i=new Array(r.length);for(t=0;t<i.length;++t)i[t]=r[t][1];return i}function o(t,e){var r=["View",e,"d",t].join("");0>e&&(r="View_Nil"+t);var n="generic"===t;if(-1===e){var o="function "+r+"(a){this.data=a;};var proto="+r+".prototype;proto.dtype='"+t+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+r+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+r+"(a){return new "+r+"(a);}",a=new Function(o);return a()}if(0===e){var o="function "+r+"(a,d) {this.data = a;this.offset = d};var proto="+r+".prototype;proto.dtype='"+t+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+r+"_copy() {return new "+r+"(this.data,this.offset)};proto.pick=function "+r+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+r+"_get(){return "+(n?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+r+"_set(v){return "+(n?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+r+"(a,b,c,d){return new "+r+"(a,d)}",a=new Function("TrivialArray",o);return a(c[t][0])}var o=["'use strict'"],s=u(e),f=s.map(function(t){return"i"+t}),h="this.offset+"+s.map(function(t){return"this.stride["+t+"]*i"+t}).join("+"),l=s.map(function(t){return"b"+t}).join(","),d=s.map(function(t){return"c"+t}).join(",");o.push("function "+r+"(a,"+l+","+d+",d){this.data=a","this.shape=["+l+"]","this.stride=["+d+"]","this.offset=d|0}","var proto="+r+".prototype","proto.dtype='"+t+"'","proto.dimension="+e),o.push("Object.defineProperty(proto,'size',{get:function "+r+"_size(){return "+s.map(function(t){return"this.shape["+t+"]"}).join("*"),"}})"),1===e?o.push("proto.order=[0]"):(o.push("Object.defineProperty(proto,'order',{get:"),4>e?(o.push("function "+r+"_order(){"),2===e?o.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===e&&o.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):o.push("ORDER})")),o.push("proto.set=function "+r+"_set("+f.join(",")+",v){"),o.push(n?"return this.data.set("+h+",v)}":"return this.data["+h+"]=v}"),o.push("proto.get=function "+r+"_get("+f.join(",")+"){"),o.push(n?"return this.data.get("+h+")}":"return this.data["+h+"]}"),o.push("proto.index=function "+r+"_index(",f.join(),"){return "+h+"}"),o.push("proto.hi=function "+r+"_hi("+f.join(",")+"){return new "+r+"(this.data,"+s.map(function(t){return["(typeof i",t,"!=='number'||i",t,"<0)?this.shape[",t,"]:i",t,"|0"].join("")}).join(",")+","+s.map(function(t){return"this.stride["+t+"]"}).join(",")+",this.offset)}");var p=s.map(function(t){return"a"+t+"=this.shape["+t+"]"}),g=s.map(function(t){return"c"+t+"=this.stride["+t+"]"});o.push("proto.lo=function "+r+"_lo("+f.join(",")+"){var b=this.offset,d=0,"+p.join(",")+","+g.join(","));for(var v=0;e>v;++v)o.push("if(typeof i"+v+"==='number'&&i"+v+">=0){d=i"+v+"|0;b+=c"+v+"*d;a"+v+"-=d}");o.push("return new "+r+"(this.data,"+s.map(function(t){return"a"+t}).join(",")+","+s.map(function(t){return"c"+t}).join(",")+",b)}"),o.push("proto.step=function "+r+"_step("+f.join(",")+"){var "+s.map(function(t){return"a"+t+"=this.shape["+t+"]"}).join(",")+","+s.map(function(t){return"b"+t+"=this.stride["+t+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(var v=0;e>v;++v)o.push("if(typeof i"+v+"==='number'){d=i"+v+"|0;if(d<0){c+=b"+v+"*(a"+v+"-1);a"+v+"=ceil(-a"+v+"/d)}else{a"+v+"=ceil(a"+v+"/d)}b"+v+"*=d}");o.push("return new "+r+"(this.data,"+s.map(function(t){return"a"+t}).join(",")+","+s.map(function(t){return"b"+t}).join(",")+",c)}");for(var y=new Array(e),w=new Array(e),v=0;e>v;++v)y[v]="a[i"+v+"]",w[v]="b[i"+v+"]";o.push("proto.transpose=function "+r+"_transpose("+f+"){"+f.map(function(t,e){return t+"=("+t+"===undefined?"+e+":"+t+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+r+"(this.data,"+y.join(",")+","+w.join(",")+",this.offset)}"),o.push("proto.pick=function "+r+"_pick("+f+"){var a=[],b=[],c=this.offset");for(var v=0;e>v;++v)o.push("if(typeof i"+v+"==='number'&&i"+v+">=0){c=(c+this.stride["+v+"]*i"+v+")|0}else{a.push(this.shape["+v+"]);b.push(this.stride["+v+"])}");o.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),o.push("return function construct_"+r+"(data,shape,stride,offset){return new "+r+"(data,"+s.map(function(t){return"shape["+t+"]"}).join(",")+","+s.map(function(t){return"stride["+t+"]"}).join(",")+",offset)}");var a=new Function("CTOR_LIST","ORDER",o.join("\n"));return a(c[t],i)}function a(t){if(h&&r.isBuffer(t))return"buffer";if(f)switch(Object.prototype.toString.call(t)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped"}return Array.isArray(t)?"array":"generic"}function s(t,e,r,n){if(void 0===t){var i=c.array[0];return i([])}"number"==typeof t&&(t=[t]),void 0===e&&(e=[t.length]);var s=e.length;if(void 0===r){r=new Array(s);for(var u=s-1,f=1;u>=0;--u)r[u]=f,f*=e[u]}if(void 0===n){n=0;for(var u=0;s>u;++u)r[u]<0&&(n-=(e[u]-1)*r[u])}for(var h=a(t),l=c[h];l.length<=s+1;)l.push(o(h,l.length-1));var i=l[s+1];return i(t,e,r,n)}var u=t("iota-array"),f="undefined"!=typeof Float64Array,h="undefined"!=typeof r,c={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],buffer:[],generic:[]};e.exports=s}).call(this,t("buffer").Buffer)},{buffer:13,"iota-array":9}],9:[function(t,e){"use strict";function r(t){for(var e=new Array(t),r=0;t>r;++r)e[r]=r;return e}e.exports=r},{}],10:[function(t,e,r){function n(t,e,r,n){function o(t){var e=t.length;if(2>e||e>256||e&e-1)throw"Invalid code/color length, must be power of 2 and 2 .. 256.";return e}var a=0,n=void 0===n?{}:n,s=void 0===n.loop?null:n.loop,u=void 0===n.palette?null:n.palette;if(0>=e||0>=r||e>65535||r>65535)throw"Width/Height invalid.";t[a++]=71,t[a++]=73,t[a++]=70,t[a++]=56,t[a++]=57,t[a++]=97;var f=0,h=0;if(null!==u){for(var c=o(u);c>>=1;)++f;if(c=1<<f,--f,void 0!==n.background){if(h=n.background,h>=c)throw"Background index out of range.";if(0===h)throw"Background index explicitly passed as 0."}}if(t[a++]=255&e,t[a++]=e>>8&255,t[a++]=255&r,t[a++]=r>>8&255,t[a++]=(null!==u?128:0)|f,t[a++]=h,t[a++]=0,null!==u)for(var l=0,d=u.length;d>l;++l){var p=u[l];t[a++]=p>>16&255,t[a++]=p>>8&255,t[a++]=255&p}if(null!==s){if(0>s||s>65535)throw"Loop count invalid.";t[a++]=33,t[a++]=255,t[a++]=11,t[a++]=78,t[a++]=69,t[a++]=84,t[a++]=83,t[a++]=67,t[a++]=65,t[a++]=80,t[a++]=69,t[a++]=50,t[a++]=46,t[a++]=48,t[a++]=3,t[a++]=1,t[a++]=255&s,t[a++]=s>>8&255,t[a++]=0}var g=!1;this.addFrame=function(e,r,n,s,f,h){if(g===!0&&(--a,g=!1),h=void 0===h?{}:h,0>e||0>r||e>65535||r>65535)throw"x/y invalid.";if(0>=n||0>=s||n>65535||s>65535)throw"Width/Height invalid.";if(f.length<n*s)throw"Not enough pixels for the frame size.";var c=!0,l=h.palette;if((void 0===l||null===l)&&(c=!1,l=u),void 0===l||null===l)throw"Must supply either a local or global palette.";for(var d=o(l),p=0;d>>=1;)++p;d=1<<p;var v=void 0===h.delay?0:h.delay,y=void 0===h.disposal?0:h.disposal;if(0>y||y>3)throw"Disposal out of range.";var w=!1,b=0;if(void 0!==h.transparent&&null!==h.transparent&&(w=!0,b=h.transparent,0>b||b>=d))throw"Transparent color index.";if((0!==y||w||0!==v)&&(t[a++]=33,t[a++]=249,t[a++]=4,t[a++]=y<<2|(w===!0?1:0),t[a++]=255&v,t[a++]=v>>8&255,t[a++]=b,t[a++]=0),t[a++]=44,t[a++]=255&e,t[a++]=e>>8&255,t[a++]=255&r,t[a++]=r>>8&255,t[a++]=255&n,t[a++]=n>>8&255,t[a++]=255&s,t[a++]=s>>8&255,t[a++]=c===!0?128|p-1:0,c===!0)for(var m=0,_=l.length;_>m;++m){var A=l[m];t[a++]=A>>16&255,t[a++]=A>>8&255,t[a++]=255&A}a=i(t,a,2>p?2:p,f)},this.end=function(){return g===!1&&(t[a++]=59,g=!0),a}}function i(t,e,r,n){function i(r){for(;l>=r;)t[e++]=255&d,d>>=8,l-=8,e===a+256&&(t[a]=255,a=e++)}function o(t){d|=t<<l,l+=c,i(8)}t[e++]=r;var a=e++,s=1<<r,u=s-1,f=s+1,h=f+1,c=r+1,l=0,d=0,p=n[0]&u,g={};o(s);for(var v=1,y=n.length;y>v;++v){var w=n[v]&u,b=p<<8|w,m=g[b];if(void 0===m){for(d|=p<<l,l+=c;l>=8;)t[e++]=255&d,d>>=8,l-=8,e===a+256&&(t[a]=255,a=e++);4096===h?(o(s),h=f+1,c=r+1,g={}):(h>=1<<c&&++c,g[b]=h++),p=w}else p=m}return o(p),o(f),i(1),a+1===e?t[a]=0:(t[a]=e-a-1,t[e++]=0),e}function o(t){var e=0;if(71!==t[e++]||73!==t[e++]||70!==t[e++]||56!==t[e++]||57!==t[e++]||97!==t[e++])throw"Invalid GIF 89a header.";{var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,i=t[e++],o=i>>7,s=7&i,u=1<<s+1;t[e++]}t[e++];var f=null;o&&(f=e,e+=3*u);var h=null,c=!0,l=[],d=0,p=null,g=0,h=null;for(this.width=r,this.height=n;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(11!==t[e]||78==t[e+1]&&69==t[e+2]&&84==t[e+3]&&83==t[e+4]&&67==t[e+5]&&65==t[e+6]&&80==t[e+7]&&69==t[e+8]&&50==t[e+9]&&46==t[e+10]&&48==t[e+11]&&3==t[e+12]&&1==t[e+13]&&0==t[e+16])e+=14,h=t[e++]|t[e++]<<8,e++;else for(e+=12;;){var v=t[e++];if(0===v)break;e+=v}break;case 249:if(4!==t[e++]||0!==t[e+4])throw"Invalid graphics extension block.";var y=t[e++];d=t[e++]|t[e++]<<8,p=t[e++],0===(1&y)&&(p=null),g=y>>2&7,e++;break;case 254:for(;;){var v=t[e++];if(0===v)break;e+=v}break;default:throw"Unknown graphic control label: 0x"+t[e-1].toString(16)}break;case 44:var w=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,m=t[e++]|t[e++]<<8,_=t[e++]|t[e++]<<8,A=t[e++],E=A>>7,j=7&A,x=1<<j+1,S=f,B=!1;if(E){var B=!0;S=e,e+=3*x}var L=e;for(e++;;){var v=t[e++];if(0===v)break;e+=v}l.push({x:w,y:b,width:m,height:_,has_local_palette:B,palette_offset:S,data_offset:L,data_length:e-L,transparent_index:p,delay:d,disposal:g});break;case 59:c=!1;break;default:throw"Unknown gif block: 0x"+t[e-1].toString(16)}this.numFrames=function(){return l.length},this.frameInfo=function(t){if(0>t||t>=l.length)throw"Frame index out of range.";return l[t]},this.decodeAndBlitFrameBGRA=function(e,n){var i=this.frameInfo(e),o=i.width*i.height,s=new Uint8Array(o);a(t,i.data_offset,s,o);var u=i.palette_offset,f=i.transparent_index;null===f&&(f=256);for(var h=4*(r-i.width),c=4*(i.y*r+i.x),l=i.width,d=0,p=s.length;p>d;++d){var g=s[d];if(g===f)c+=4;else{var v=t[u+3*g],y=t[u+3*g+1],w=t[u+3*g+2];n[c++]=w,n[c++]=y,n[c++]=v,n[c++]=255}0===--l&&(c+=h,l=i.width)}},this.decodeAndBlitFrameRGBA=function(e,n){var i=this.frameInfo(e),o=i.width*i.height,s=new Uint8Array(o);a(t,i.data_offset,s,o);var u=0,f=i.palette_offset,h=i.transparent_index;null===h&&(h=256);for(var c=4*(r-i.width),u=4*(i.y*r+i.x),l=i.width,d=0,p=s.length;p>d;++d){var g=s[d];if(g===h)u+=4;else{var v=t[f+3*g],y=t[f+3*g+1],w=t[f+3*g+2];n[u++]=v,n[u++]=y,n[u++]=w,n[u++]=255}0===--l&&(u+=c,l=i.width)}}}function a(t,e,r,n){for(var i=t[e++],o=1<<i,a=o+1,s=a+1,u=i+1,f=(1<<u)-1,h=0,c=0,l=0,d=t[e++],p=new Int32Array(4096),g=null;;){for(;16>h&&0!==d;)c|=t[e++]<<h,h+=8,1===d?d=t[e++]:--d;if(u>h)break;var v=c&f;if(c>>=u,h-=u,v!==o){if(v===a)break;for(var y=s>v?v:g,w=0,b=y;b>o;)b=p[b]>>8,++w;var m=b,_=l+w+(y!==v?1:0);if(_>n)return void console.log("Warning, gif stream longer than expected.");r[l++]=m,l+=w;var A=l;for(y!==v&&(r[l++]=m),b=y;w--;)b=p[b],r[--A]=255&b,b>>=8;null!==g&&4096>s&&(p[s++]=g<<8|m,s>=f+1&&12>u&&(++u,f=f<<1|1)),g=v}else s=a+1,u=i+1,f=(1<<u)-1,g=null}return l!==n&&console.log("Warning, gif stream shorter than expected."),r}try{r.GifWriter=n,r.GifReader=o}catch(s){}},{}],11:[function(t,e,r){(function(n){function i(t,e,r){function i(){for(;f.length&&!c.paused;){var t=f.shift();if(null===t)return c.emit("end");c.emit("data",t)}}function a(){c.writable=!1,e.call(c),!c.readable&&c.autoDestroy&&c.destroy()}t=t||function(t){this.queue(t)},e=e||function(){this.queue(null)};var s=!1,u=!1,f=[],h=!1,c=new o;return c.readable=c.writable=!0,c.paused=!1,c.autoDestroy=!(r&&r.autoDestroy===!1),c.write=function(e){return t.call(this,e),!c.paused},c.queue=c.push=function(t){return h?c:(null==t&&(h=!0),f.push(t),i(),c)},c.on("end",function(){c.readable=!1,!c.writable&&c.autoDestroy&&n.nextTick(function(){c.destroy()})}),c.end=function(t){return s?void 0:(s=!0,arguments.length&&c.write(t),a(),c)},c.destroy=function(){return u?void 0:(u=!0,s=!0,f.length=0,c.writable=c.readable=!1,c.emit("close"),c)},c.pause=function(){return c.paused?void 0:(c.paused=!0,c)},c.resume=function(){return c.paused&&(c.paused=!1,c.emit("resume")),i(),c.paused||c.emit("drain"),c},c}var o=t("stream");r=e.exports=i,i.through=i}).call(this,t("_process"))},{_process:21,stream:33}],12:[function(t,e){(function(t){!function(t){var r=this;e.exports=t(r)}(function(e){"use strict";function r(t,e){return"object"!=typeof t||null===t?!1:t.constructor===e||Object.prototype.toString.call(t)==="[object "+e.name+"]"}function n(t,e){return!e&&r(t,Array)?t:Array.prototype.slice.call(t)}function i(t,e){return void 0!==t?t:e}function o(e,n,a,s){if(o.is(e)){var u=e.slice(n,n+a);return u._littleEndian=i(s,u._littleEndian),u}if(!o.is(this))return new o(e,n,a,s);if(this.buffer=e=o.wrapBuffer(e),this._isArrayBuffer=h.ArrayBuffer&&r(e,ArrayBuffer),this._isPixelData=!1,this._isDataView=h.DataView&&this._isArrayBuffer,this._isNodeBuffer=!0&&h.NodeBuffer&&r(e,t),!this._isNodeBuffer&&!this._isArrayBuffer&&!r(e,Array))throw new TypeError("jDataView buffer has an incompatible type");this._littleEndian=!!s;var f="byteLength"in e?e.byteLength:e.length;this.byteOffset=n=i(n,0),this.byteLength=a=i(a,f-n),this._offset=this._bitOffset=0,this._isDataView?this._view=new DataView(e,n,a):this._checkBounds(n,a,f),this._engineAction=this._isDataView?this._dataViewAction:this._isNodeBuffer?this._nodeBufferAction:this._isArrayBuffer?this._arrayBufferAction:this._arrayAction
}function a(e){if(h.NodeBuffer)return new t(e,"binary");for(var r=h.ArrayBuffer?Uint8Array:Array,n=new r(e.length),i=0,o=e.length;o>i;i++)n[i]=255&e.charCodeAt(i);return n}function s(t){return t>=0&&31>t?1<<t:s[t]||(s[t]=Math.pow(2,t))}function u(t,e){this.lo=t,this.hi=e}function f(){u.apply(this,arguments)}var h={NodeBuffer:!0&&"Buffer"in e,DataView:"DataView"in e,ArrayBuffer:"ArrayBuffer"in e,PixelData:!1},c=e.TextEncoder,l=e.TextDecoder;h.NodeBuffer&&!function(t){try{t.writeFloatLE(1/0,0)}catch(e){h.NodeBuffer=!1}}(new t(4));var d={Int8:1,Int16:2,Int32:4,Uint8:1,Uint16:2,Uint32:4,Float32:4,Float64:8};o.wrapBuffer=function(e){switch(typeof e){case"number":if(h.NodeBuffer)e=new t(e),e.fill(0);else if(h.ArrayBuffer)e=new Uint8Array(e).buffer;else{e=new Array(e);for(var i=0;i<e.length;i++)e[i]=0}return e;case"string":e=a(e);default:return"length"in e&&!(h.NodeBuffer&&r(e,t)||h.ArrayBuffer&&r(e,ArrayBuffer))&&(h.NodeBuffer?e=new t(e):h.ArrayBuffer?r(e,ArrayBuffer)||(e=new Uint8Array(e).buffer,r(e,ArrayBuffer)||(e=new Uint8Array(n(e,!0)).buffer)):e=n(e)),e}},o.is=function(t){return t&&t.jDataView},o.from=function(){return new o(arguments)},o.Uint64=u,u.prototype={valueOf:function(){return this.lo+s(32)*this.hi},toString:function(){return Number.prototype.toString.apply(this.valueOf(),arguments)}},u.fromNumber=function(t){var e=Math.floor(t/s(32)),r=t-e*s(32);return new u(r,e)},o.Int64=f,f.prototype="create"in Object?Object.create(u.prototype):new u,f.prototype.valueOf=function(){return this.hi<s(31)?u.prototype.valueOf.apply(this,arguments):-(s(32)-this.lo+s(32)*(s(32)-1-this.hi))},f.fromNumber=function(t){var e,r;if(t>=0){var n=u.fromNumber(t);e=n.lo,r=n.hi}else r=Math.floor(t/s(32)),e=t-r*s(32),r+=s(32);return new f(e,r)};var p=o.prototype={compatibility:h,jDataView:!0,_checkBounds:function(t,e,r){if("number"!=typeof t)throw new TypeError("Offset is not a number.");if("number"!=typeof e)throw new TypeError("Size is not a number.");if(0>e)throw new RangeError("Length is negative.");if(0>t||t+e>i(r,this.byteLength))throw new RangeError("Offsets are out of bounds.")},_action:function(t,e,r,n,o){return this._engineAction(t,e,i(r,this._offset),i(n,this._littleEndian),o)},_dataViewAction:function(t,e,r,n,i){return this._offset=r+d[t],e?this._view["get"+t](r,n):this._view["set"+t](r,i,n)},_arrayBufferAction:function(t,r,n,o,a){var s,u=d[t],f=e[t+"Array"];if(o=i(o,this._littleEndian),1===u||(this.byteOffset+n)%u===0&&o)return s=new f(this.buffer,this.byteOffset+n,1),this._offset=n+u,r?s[0]:s[0]=a;var h=new Uint8Array(r?this.getBytes(u,n,o,!0):u);return s=new f(h.buffer,0,1),r?s[0]:(s[0]=a,void this._setBytes(n,h,o))},_arrayAction:function(t,e,r,n,i){return e?this["_get"+t](r,n):this["_set"+t](r,i,n)},_getBytes:function(t,e,r){r=i(r,this._littleEndian),e=i(e,this._offset),t=i(t,this.byteLength-e),this._checkBounds(e,t),e+=this.byteOffset,this._offset=e-this.byteOffset+t;var o=this._isArrayBuffer?new Uint8Array(this.buffer,e,t):(this.buffer.slice||Array.prototype.slice).call(this.buffer,e,e+t);return r||1>=t?o:n(o).reverse()},getBytes:function(t,e,r,o){var a=this._getBytes(t,e,i(r,!0));return o?n(a):a},_setBytes:function(e,r,o){var a=r.length;if(0!==a){if(o=i(o,this._littleEndian),e=i(e,this._offset),this._checkBounds(e,a),!o&&a>1&&(r=n(r,!0).reverse()),e+=this.byteOffset,this._isArrayBuffer)new Uint8Array(this.buffer,e,a).set(r);else if(this._isNodeBuffer)new t(r).copy(this.buffer,e);else for(var s=0;a>s;s++)this.buffer[e+s]=r[s];this._offset=e-this.byteOffset+a}},setBytes:function(t,e,r){this._setBytes(t,e,i(r,!0))},getString:function(t,e,r){if(this._isNodeBuffer)return e=i(e,this._offset),t=i(t,this.byteLength-e),this._checkBounds(e,t),this._offset=e+t,this.buffer.toString(r||"binary",this.byteOffset+e,this.byteOffset+this._offset);var n=this._getBytes(t,e,!0);if(r="utf8"===r?"utf-8":r||"binary",l&&"binary"!==r)return new l(r).decode(this._isArrayBuffer?n:new Uint8Array(n));var o="";t=n.length;for(var a=0;t>a;a++)o+=String.fromCharCode(n[a]);return"utf-8"===r&&(o=decodeURIComponent(escape(o))),o},setString:function(t,e,r){if(this._isNodeBuffer)return t=i(t,this._offset),this._checkBounds(t,e.length),void(this._offset=t+this.buffer.write(e,this.byteOffset+t,r||"binary"));r="utf8"===r?"utf-8":r||"binary";var n;c&&"binary"!==r?n=new c(r).encode(e):("utf-8"===r&&(e=unescape(encodeURIComponent(e))),n=a(e)),this._setBytes(t,n,!0)},getChar:function(t){return this.getString(1,t)},setChar:function(t,e){this.setString(t,e)},tell:function(){return this._offset},seek:function(t){return this._checkBounds(t,0),this._offset=t},skip:function(t){return this.seek(this._offset+t)},slice:function(t,e,r){function n(t,e){return 0>t?t+e:t}return t=n(t,this.byteLength),e=n(i(e,this.byteLength),this.byteLength),r?new o(this.getBytes(e-t,t,!0,!0),void 0,void 0,this._littleEndian):new o(this.buffer,this.byteOffset+t,e-t,this._littleEndian)},alignBy:function(t){return this._bitOffset=0,1!==i(t,1)?this.skip(t-(this._offset%t||t)):this._offset},_getFloat64:function(t,e){var r=this._getBytes(8,t,e),n=1-2*(r[7]>>7),i=((r[7]<<1&255)<<3|r[6]>>4)-1023,o=(15&r[6])*s(48)+r[5]*s(40)+r[4]*s(32)+r[3]*s(24)+r[2]*s(16)+r[1]*s(8)+r[0];return 1024===i?0!==o?0/0:1/0*n:-1023===i?n*o*s(-1074):n*(1+o*s(-52))*s(i)},_getFloat32:function(t,e){var r=this._getBytes(4,t,e),n=1-2*(r[3]>>7),i=(r[3]<<1&255|r[2]>>7)-127,o=(127&r[2])<<16|r[1]<<8|r[0];return 128===i?0!==o?0/0:1/0*n:-127===i?n*o*s(-149):n*(1+o*s(-23))*s(i)},_get64:function(t,e,r){r=i(r,this._littleEndian),e=i(e,this._offset);for(var n=r?[0,4]:[4,0],o=0;2>o;o++)n[o]=this.getUint32(e+n[o],r);return this._offset=e+8,new t(n[0],n[1])},getInt64:function(t,e){return this._get64(f,t,e)},getUint64:function(t,e){return this._get64(u,t,e)},_getInt32:function(t,e){var r=this._getBytes(4,t,e);return r[3]<<24|r[2]<<16|r[1]<<8|r[0]},_getUint32:function(t,e){return this._getInt32(t,e)>>>0},_getInt16:function(t,e){return this._getUint16(t,e)<<16>>16},_getUint16:function(t,e){var r=this._getBytes(2,t,e);return r[1]<<8|r[0]},_getInt8:function(t){return this._getUint8(t)<<24>>24},_getUint8:function(t){return this._getBytes(1,t)[0]},_getBitRangeData:function(t,e){var r=(i(e,this._offset)<<3)+this._bitOffset,n=r+t,o=r>>>3,a=n+7>>>3,s=this._getBytes(a-o,o,!0),u=0;(this._bitOffset=7&n)&&(this._bitOffset-=8);for(var f=0,h=s.length;h>f;f++)u=u<<8|s[f];return{start:o,bytes:s,wideValue:u}},getSigned:function(t,e){var r=32-t;return this.getUnsigned(t,e)<<r>>r},getUnsigned:function(t,e){var r=this._getBitRangeData(t,e).wideValue>>>-this._bitOffset;return 32>t?r&~(-1<<t):r},_setBinaryFloat:function(t,e,r,n,i){var o,a,u=0>e?1:0,f=~(-1<<n-1),h=1-f;0>e&&(e=-e),0===e?(o=0,a=0):isNaN(e)?(o=2*f+1,a=1):1/0===e?(o=2*f+1,a=0):(o=Math.floor(Math.log(e)/Math.LN2),o>=h&&f>=o?(a=Math.floor((e*s(-o)-1)*s(r)),o+=f):(a=Math.floor(e/s(h-r)),o=0));for(var c=[];r>=8;)c.push(a%256),a=Math.floor(a/256),r-=8;for(o=o<<r|a,n+=r;n>=8;)c.push(255&o),o>>>=8,n-=8;c.push(u<<n|o),this._setBytes(t,c,i)},_setFloat32:function(t,e,r){this._setBinaryFloat(t,e,23,8,r)},_setFloat64:function(t,e,r){this._setBinaryFloat(t,e,52,11,r)},_set64:function(t,e,r,n){"object"!=typeof r&&(r=t.fromNumber(r)),n=i(n,this._littleEndian),e=i(e,this._offset);var o=n?{lo:0,hi:4}:{lo:4,hi:0};for(var a in o)this.setUint32(e+o[a],r[a],n);this._offset=e+8},setInt64:function(t,e,r){this._set64(f,t,e,r)},setUint64:function(t,e,r){this._set64(u,t,e,r)},_setUint32:function(t,e,r){this._setBytes(t,[255&e,e>>>8&255,e>>>16&255,e>>>24],r)},_setUint16:function(t,e,r){this._setBytes(t,[255&e,e>>>8&255],r)},_setUint8:function(t,e){this._setBytes(t,[255&e])},setUnsigned:function(t,e,r){var n=this._getBitRangeData(r,t),i=n.wideValue,o=n.bytes;i&=~(~(-1<<r)<<-this._bitOffset),i|=(32>r?e&~(-1<<r):e)<<-this._bitOffset;for(var a=o.length-1;a>=0;a--)o[a]=255&i,i>>>=8;this._setBytes(n.start,o,!0)}},g={Int8:"Int8",Int16:"Int16",Int32:"Int32",Uint8:"UInt8",Uint16:"UInt16",Uint32:"UInt32",Float32:"Float",Float64:"Double"};p._nodeBufferAction=function(t,e,r,n,i){this._offset=r+d[t];var o=g[t]+("Int8"===t||"Uint8"===t?"":n?"LE":"BE");return r+=this.byteOffset,e?this.buffer["read"+o](r):this.buffer["write"+o](i,r)};for(var v in d)!function(t){p["get"+t]=function(e,r){return this._action(t,!0,e,r)},p["set"+t]=function(e,r,n){this._action(t,!1,e,n,r)}}(v);p._setInt32=p._setUint32,p._setInt16=p._setUint16,p._setInt8=p._setUint8,p.setSigned=p.setUnsigned;for(var y in p)"set"===y.slice(0,3)&&!function(t){p["write"+t]=function(){Array.prototype.unshift.call(arguments,void 0),this["set"+t].apply(this,arguments)}}(y.slice(3));return o})}).call(this,t("buffer").Buffer)},{buffer:13}],13:[function(t,e,r){function n(t,e,r){if(!(this instanceof n))return new n(t,e,r);var i,o=typeof t;if("number"===o)i=t>0?t>>>0:0;else if("string"===o)"base64"===e&&(t=E(t)),i=n.byteLength(t,e);else{if("object"!==o||null===t)throw new TypeError("must start with number, buffer, array or string");"Buffer"===t.type&&z(t.data)&&(t=t.data),i=+t.length>0?Math.floor(+t.length):0}if(this.length>C)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+C.toString(16)+" bytes");var a;n.TYPED_ARRAY_SUPPORT?a=n._augment(new Uint8Array(i)):(a=this,a.length=i,a._isBuffer=!0);var s;if(n.TYPED_ARRAY_SUPPORT&&"number"==typeof t.byteLength)a._set(t);else if(x(t))if(n.isBuffer(t))for(s=0;i>s;s++)a[s]=t.readUInt8(s);else for(s=0;i>s;s++)a[s]=(t[s]%256+256)%256;else if("string"===o)a.write(t,0,e);else if("number"===o&&!n.TYPED_ARRAY_SUPPORT&&!r)for(s=0;i>s;s++)a[s]=0;return a}function i(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;var o=e.length;if(o%2!==0)throw new Error("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;n>a;a++){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))throw new Error("Invalid hex string");t[r+a]=s}return a}function o(t,e,r,n){var i=I(B(e),t,r,n);return i}function a(t,e,r,n){var i=I(L(e),t,r,n);return i}function s(t,e,r,n){return a(t,e,r,n)}function u(t,e,r,n){var i=I(U(e),t,r,n);return i}function f(t,e,r,n){var i=I(k(e),t,r,n,2);return i}function h(t,e,r){return R.fromByteArray(0===e&&r===t.length?t:t.slice(e,r))}function c(t,e,r){var n="",i="";r=Math.min(t.length,r);for(var o=e;r>o;o++)t[o]<=127?(n+=T(i)+String.fromCharCode(t[o]),i=""):i+="%"+t[o].toString(16);return n+T(i)}function l(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;r>i;i++)n+=String.fromCharCode(t[i]);return n}function d(t,e,r){return l(t,e,r)}function p(t,e,r){var n=t.length;(!e||0>e)&&(e=0),(!r||0>r||r>n)&&(r=n);for(var i="",o=e;r>o;o++)i+=S(t[o]);return i}function g(t,e,r){for(var n=t.slice(e,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function v(t,e,r){if(t%1!==0||0>t)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function y(t,e,r,i,o,a){if(!n.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");if(e>o||a>e)throw new TypeError("value is out of bounds");if(r+i>t.length)throw new TypeError("index out of range")}function w(t,e,r,n){0>e&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-r,2);o>i;i++)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function b(t,e,r,n){0>e&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-r,4);o>i;i++)t[r+i]=e>>>8*(n?i:3-i)&255}function m(t,e,r,n,i,o){if(e>i||o>e)throw new TypeError("value is out of bounds");if(r+n>t.length)throw new TypeError("index out of range")}function _(t,e,r,n,i){return i||m(t,e,r,4,3.4028234663852886e38,-3.4028234663852886e38),V.write(t,e,r,n,23,4),r+4}function A(t,e,r,n,i){return i||m(t,e,r,8,1.7976931348623157e308,-1.7976931348623157e308),V.write(t,e,r,n,52,8),r+8}function E(t){for(t=j(t).replace(D,"");t.length%4!==0;)t+="=";return t}function j(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function x(t){return z(t)||n.isBuffer(t)||t&&"object"==typeof t&&"number"==typeof t.length}function S(t){return 16>t?"0"+t.toString(16):t.toString(16)}function B(t){for(var e=[],r=0;r<t.length;r++){var n=t.charCodeAt(r);if(127>=n)e.push(n);else{var i=r;n>=55296&&57343>=n&&r++;for(var o=encodeURIComponent(t.slice(i,r+1)).substr(1).split("%"),a=0;a<o.length;a++)e.push(parseInt(o[a],16))}}return e}function L(t){for(var e=[],r=0;r<t.length;r++)e.push(255&t.charCodeAt(r));return e}function k(t){for(var e,r,n,i=[],o=0;o<t.length;o++)e=t.charCodeAt(o),r=e>>8,n=e%256,i.push(n),i.push(r);return i}function U(t){return R.toByteArray(t)}function I(t,e,r,n,i){i&&(n-=n%i);for(var o=0;n>o&&!(o+r>=e.length||o>=t.length);o++)e[o+r]=t[o];return o}function T(t){try{return decodeURIComponent(t)}catch(e){return String.fromCharCode(65533)}}var R=t("base64-js"),V=t("ieee754"),z=t("is-array");r.Buffer=n,r.SlowBuffer=n,r.INSPECT_MAX_BYTES=50,n.poolSize=8192;var C=1073741823;n.TYPED_ARRAY_SUPPORT=function(){try{var t=new ArrayBuffer(0),e=new Uint8Array(t);return e.foo=function(){return 42},42===e.foo()&&"function"==typeof e.subarray&&0===new Uint8Array(1).subarray(1,1).byteLength}catch(r){return!1}}(),n.isBuffer=function(t){return!(null==t||!t._isBuffer)},n.compare=function(t,e){if(!n.isBuffer(t)||!n.isBuffer(e))throw new TypeError("Arguments must be Buffers");for(var r=t.length,i=e.length,o=0,a=Math.min(r,i);a>o&&t[o]===e[o];o++);return o!==a&&(r=t[o],i=e[o]),i>r?-1:r>i?1:0},n.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},n.concat=function(t,e){if(!z(t))throw new TypeError("Usage: Buffer.concat(list[, length])");if(0===t.length)return new n(0);if(1===t.length)return t[0];var r;if(void 0===e)for(e=0,r=0;r<t.length;r++)e+=t[r].length;var i=new n(e),o=0;for(r=0;r<t.length;r++){var a=t[r];a.copy(i,o),o+=a.length}return i},n.byteLength=function(t,e){var r;switch(t+="",e||"utf8"){case"ascii":case"binary":case"raw":r=t.length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":r=2*t.length;break;case"hex":r=t.length>>>1;break;case"utf8":case"utf-8":r=B(t).length;break;case"base64":r=U(t).length;break;default:r=t.length}return r},n.prototype.length=void 0,n.prototype.parent=void 0,n.prototype.toString=function(t,e,r){var n=!1;if(e>>>=0,r=void 0===r||1/0===r?this.length:r>>>0,t||(t="utf8"),0>e&&(e=0),r>this.length&&(r=this.length),e>=r)return"";for(;;)switch(t){case"hex":return p(this,e,r);case"utf8":case"utf-8":return c(this,e,r);case"ascii":return l(this,e,r);case"binary":return d(this,e,r);case"base64":return h(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return g(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}},n.prototype.equals=function(t){if(!n.isBuffer(t))throw new TypeError("Argument must be a Buffer");return 0===n.compare(this,t)},n.prototype.inspect=function(){var t="",e=r.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},n.prototype.compare=function(t){if(!n.isBuffer(t))throw new TypeError("Argument must be a Buffer");return n.compare(this,t)},n.prototype.get=function(t){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(t)},n.prototype.set=function(t,e){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(t,e)},n.prototype.write=function(t,e,r,n){if(isFinite(e))isFinite(r)||(n=r,r=void 0);else{var h=n;n=e,e=r,r=h}e=Number(e)||0;var c=this.length-e;r?(r=Number(r),r>c&&(r=c)):r=c,n=String(n||"utf8").toLowerCase();var l;switch(n){case"hex":l=i(this,t,e,r);break;case"utf8":case"utf-8":l=o(this,t,e,r);break;case"ascii":l=a(this,t,e,r);break;case"binary":l=s(this,t,e,r);break;case"base64":l=u(this,t,e,r);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":l=f(this,t,e,r);break;default:throw new TypeError("Unknown encoding: "+n)}return l},n.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},n.prototype.slice=function(t,e){var r=this.length;if(t=~~t,e=void 0===e?r:~~e,0>t?(t+=r,0>t&&(t=0)):t>r&&(t=r),0>e?(e+=r,0>e&&(e=0)):e>r&&(e=r),t>e&&(e=t),n.TYPED_ARRAY_SUPPORT)return n._augment(this.subarray(t,e));for(var i=e-t,o=new n(i,void 0,!0),a=0;i>a;a++)o[a]=this[a+t];return o},n.prototype.readUInt8=function(t,e){return e||v(t,1,this.length),this[t]},n.prototype.readUInt16LE=function(t,e){return e||v(t,2,this.length),this[t]|this[t+1]<<8},n.prototype.readUInt16BE=function(t,e){return e||v(t,2,this.length),this[t]<<8|this[t+1]},n.prototype.readUInt32LE=function(t,e){return e||v(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},n.prototype.readUInt32BE=function(t,e){return e||v(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},n.prototype.readInt8=function(t,e){return e||v(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},n.prototype.readInt16LE=function(t,e){e||v(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},n.prototype.readInt16BE=function(t,e){e||v(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},n.prototype.readInt32LE=function(t,e){return e||v(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},n.prototype.readInt32BE=function(t,e){return e||v(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},n.prototype.readFloatLE=function(t,e){return e||v(t,4,this.length),V.read(this,t,!0,23,4)},n.prototype.readFloatBE=function(t,e){return e||v(t,4,this.length),V.read(this,t,!1,23,4)},n.prototype.readDoubleLE=function(t,e){return e||v(t,8,this.length),V.read(this,t,!0,52,8)},n.prototype.readDoubleBE=function(t,e){return e||v(t,8,this.length),V.read(this,t,!1,52,8)},n.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||y(this,t,e,1,255,0),n.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=t,e+1},n.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||y(this,t,e,2,65535,0),n.TYPED_ARRAY_SUPPORT?(this[e]=t,this[e+1]=t>>>8):w(this,t,e,!0),e+2},n.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||y(this,t,e,2,65535,0),n.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=t):w(this,t,e,!1),e+2},n.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||y(this,t,e,4,4294967295,0),n.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=t):b(this,t,e,!0),e+4},n.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||y(this,t,e,4,4294967295,0),n.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t):b(this,t,e,!1),e+4},n.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||y(this,t,e,1,127,-128),n.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),0>t&&(t=255+t+1),this[e]=t,e+1},n.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||y(this,t,e,2,32767,-32768),n.TYPED_ARRAY_SUPPORT?(this[e]=t,this[e+1]=t>>>8):w(this,t,e,!0),e+2},n.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||y(this,t,e,2,32767,-32768),n.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=t):w(this,t,e,!1),e+2},n.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||y(this,t,e,4,2147483647,-2147483648),n.TYPED_ARRAY_SUPPORT?(this[e]=t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):b(this,t,e,!0),e+4},n.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||y(this,t,e,4,2147483647,-2147483648),0>t&&(t=4294967295+t+1),n.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t):b(this,t,e,!1),e+4},n.prototype.writeFloatLE=function(t,e,r){return _(this,t,e,!0,r)},n.prototype.writeFloatBE=function(t,e,r){return _(this,t,e,!1,r)},n.prototype.writeDoubleLE=function(t,e,r){return A(this,t,e,!0,r)},n.prototype.writeDoubleBE=function(t,e,r){return A(this,t,e,!1,r)},n.prototype.copy=function(t,e,r,i){var o=this;if(r||(r=0),i||0===i||(i=this.length),e||(e=0),i!==r&&0!==t.length&&0!==o.length){if(r>i)throw new TypeError("sourceEnd < sourceStart");if(0>e||e>=t.length)throw new TypeError("targetStart out of bounds");if(0>r||r>=o.length)throw new TypeError("sourceStart out of bounds");if(0>i||i>o.length)throw new TypeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-r&&(i=t.length-e+r);var a=i-r;if(1e3>a||!n.TYPED_ARRAY_SUPPORT)for(var s=0;a>s;s++)t[s+e]=this[s+r];else t._set(this.subarray(r,r+a),e)}},n.prototype.fill=function(t,e,r){if(t||(t=0),e||(e=0),r||(r=this.length),e>r)throw new TypeError("end < start");if(r!==e&&0!==this.length){if(0>e||e>=this.length)throw new TypeError("start out of bounds");if(0>r||r>this.length)throw new TypeError("end out of bounds");var n;if("number"==typeof t)for(n=e;r>n;n++)this[n]=t;else{var i=B(t.toString()),o=i.length;for(n=e;r>n;n++)this[n]=i[n%o]}return this}},n.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(n.TYPED_ARRAY_SUPPORT)return new n(this).buffer;for(var t=new Uint8Array(this.length),e=0,r=t.length;r>e;e+=1)t[e]=this[e];return t.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var M=n.prototype;n._augment=function(t){return t.constructor=n,t._isBuffer=!0,t._get=t.get,t._set=t.set,t.get=M.get,t.set=M.set,t.write=M.write,t.toString=M.toString,t.toLocaleString=M.toString,t.toJSON=M.toJSON,t.equals=M.equals,t.compare=M.compare,t.copy=M.copy,t.slice=M.slice,t.readUInt8=M.readUInt8,t.readUInt16LE=M.readUInt16LE,t.readUInt16BE=M.readUInt16BE,t.readUInt32LE=M.readUInt32LE,t.readUInt32BE=M.readUInt32BE,t.readInt8=M.readInt8,t.readInt16LE=M.readInt16LE,t.readInt16BE=M.readInt16BE,t.readInt32LE=M.readInt32LE,t.readInt32BE=M.readInt32BE,t.readFloatLE=M.readFloatLE,t.readFloatBE=M.readFloatBE,t.readDoubleLE=M.readDoubleLE,t.readDoubleBE=M.readDoubleBE,t.writeUInt8=M.writeUInt8,t.writeUInt16LE=M.writeUInt16LE,t.writeUInt16BE=M.writeUInt16BE,t.writeUInt32LE=M.writeUInt32LE,t.writeUInt32BE=M.writeUInt32BE,t.writeInt8=M.writeInt8,t.writeInt16LE=M.writeInt16LE,t.writeInt16BE=M.writeInt16BE,t.writeInt32LE=M.writeInt32LE,t.writeInt32BE=M.writeInt32BE,t.writeFloatLE=M.writeFloatLE,t.writeFloatBE=M.writeFloatBE,t.writeDoubleLE=M.writeDoubleLE,t.writeDoubleBE=M.writeDoubleBE,t.fill=M.fill,t.inspect=M.inspect,t.toArrayBuffer=M.toArrayBuffer,t};var D=/[^+\/0-9A-z]/g},{"base64-js":14,ieee754:15,"is-array":16}],14:[function(t,e,r){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(t){"use strict";function e(t){var e=t.charCodeAt(0);return e===a?62:e===s?63:u>e?-1:u+10>e?e-u+26+26:h+26>e?e-h:f+26>e?e-f+26:void 0}function r(t){function r(t){f[c++]=t}var n,i,a,s,u,f;if(t.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var h=t.length;u="="===t.charAt(h-2)?2:"="===t.charAt(h-1)?1:0,f=new o(3*t.length/4-u),a=u>0?t.length-4:t.length;var c=0;for(n=0,i=0;a>n;n+=4,i+=3)s=e(t.charAt(n))<<18|e(t.charAt(n+1))<<12|e(t.charAt(n+2))<<6|e(t.charAt(n+3)),r((16711680&s)>>16),r((65280&s)>>8),r(255&s);return 2===u?(s=e(t.charAt(n))<<2|e(t.charAt(n+1))>>4,r(255&s)):1===u&&(s=e(t.charAt(n))<<10|e(t.charAt(n+1))<<4|e(t.charAt(n+2))>>2,r(s>>8&255),r(255&s)),f}function i(t){function e(t){return n.charAt(t)}function r(t){return e(t>>18&63)+e(t>>12&63)+e(t>>6&63)+e(63&t)}var i,o,a,s=t.length%3,u="";for(i=0,a=t.length-s;a>i;i+=3)o=(t[i]<<16)+(t[i+1]<<8)+t[i+2],u+=r(o);switch(s){case 1:o=t[t.length-1],u+=e(o>>2),u+=e(o<<4&63),u+="==";break;case 2:o=(t[t.length-2]<<8)+t[t.length-1],u+=e(o>>10),u+=e(o>>4&63),u+=e(o<<2&63),u+="="}return u}var o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="+".charCodeAt(0),s="/".charCodeAt(0),u="0".charCodeAt(0),f="a".charCodeAt(0),h="A".charCodeAt(0);t.toByteArray=r,t.fromByteArray=i}("undefined"==typeof r?this.base64js={}:r)},{}],15:[function(t,e,r){r.read=function(t,e,r,n,i){var o,a,s=8*i-n-1,u=(1<<s)-1,f=u>>1,h=-7,c=r?i-1:0,l=r?-1:1,d=t[e+c];for(c+=l,o=d&(1<<-h)-1,d>>=-h,h+=s;h>0;o=256*o+t[e+c],c+=l,h-=8);for(a=o&(1<<-h)-1,o>>=-h,h+=n;h>0;a=256*a+t[e+c],c+=l,h-=8);if(0===o)o=1-f;else{if(o===u)return a?0/0:1/0*(d?-1:1);a+=Math.pow(2,n),o-=f}return(d?-1:1)*a*Math.pow(2,o-n)},r.write=function(t,e,r,n,i,o){var a,s,u,f=8*o-i-1,h=(1<<f)-1,c=h>>1,l=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,p=n?1:-1,g=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||1/0===e?(s=isNaN(e)?1:0,a=h):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),e+=a+c>=1?l/u:l*Math.pow(2,1-c),e*u>=2&&(a++,u/=2),a+c>=h?(s=0,a=h):a+c>=1?(s=(e*u-1)*Math.pow(2,i),a+=c):(s=e*Math.pow(2,c-1)*Math.pow(2,i),a=0));i>=8;t[r+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,f+=i;f>0;t[r+d]=255&a,d+=p,a/=256,f-=8);t[r+d-p]|=128*g}},{}],16:[function(t,e){var r=Array.isArray,n=Object.prototype.toString;e.exports=r||function(t){return!!t&&"[object Array]"==n.call(t)}},{}],17:[function(t,e){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(t){return"function"==typeof t}function i(t){return"number"==typeof t}function o(t){return"object"==typeof t&&null!==t}function a(t){return void 0===t}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if(!i(t)||0>t||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var e,r,i,s,u,f;if(this._events||(this._events={}),"error"===t&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;throw TypeError('Uncaught, unspecified "error" event.')}if(r=this._events[t],a(r))return!1;if(n(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:for(i=arguments.length,s=new Array(i-1),u=1;i>u;u++)s[u-1]=arguments[u];r.apply(this,s)}else if(o(r)){for(i=arguments.length,s=new Array(i-1),u=1;i>u;u++)s[u-1]=arguments[u];for(f=r.slice(),i=f.length,u=0;i>u;u++)f[u].apply(this,s)}return!0},r.prototype.addListener=function(t,e){var i;if(!n(e))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,n(e.listener)?e.listener:e),this._events[t]?o(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,o(this._events[t])&&!this._events[t].warned){var i;i=a(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,i&&i>0&&this._events[t].length>i&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())}return this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){function r(){this.removeListener(t,r),i||(i=!0,e.apply(this,arguments))}if(!n(e))throw TypeError("listener must be a function");var i=!1;return r.listener=e,this.on(t,r),this},r.prototype.removeListener=function(t,e){var r,i,a,s;if(!n(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(r=this._events[t],a=r.length,i=-1,r===e||n(r.listener)&&r.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(o(r)){for(s=a;s-->0;)if(r[s]===e||r[s].listener&&r[s].listener===e){i=s;break}if(0>i)return this;1===r.length?(r.length=0,delete this._events[t]):r.splice(i,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},r.prototype.removeAllListeners=function(t){var e,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[t],n(r))this.removeListener(t,r);else for(;r.length;)this.removeListener(t,r[r.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?n(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.listenerCount=function(t,e){var r;return r=t._events&&t._events[e]?n(t._events[e])?1:t._events[e].length:0}},{}],18:[function(t,e){e.exports="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},{}],19:[function(t,e){e.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},{}],20:[function(t,e,r){(function(t){function e(t,e){for(var r=0,n=t.length-1;n>=0;n--){var i=t[n];"."===i?t.splice(n,1):".."===i?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}function n(t,e){if(t.filter)return t.filter(e);for(var r=[],n=0;n<t.length;n++)e(t[n],n,t)&&r.push(t[n]);return r}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(t){return i.exec(t).slice(1)};r.resolve=function(){for(var r="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var a=o>=0?arguments[o]:t.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(r=a+"/"+r,i="/"===a.charAt(0))}return r=e(n(r.split("/"),function(t){return!!t}),!i).join("/"),(i?"/":"")+r||"."},r.normalize=function(t){var i=r.isAbsolute(t),o="/"===a(t,-1);return t=e(n(t.split("/"),function(t){return!!t}),!i).join("/"),t||i||(t="."),t&&o&&(t+="/"),(i?"/":"")+t},r.isAbsolute=function(t){return"/"===t.charAt(0)},r.join=function(){var t=Array.prototype.slice.call(arguments,0);return r.normalize(n(t,function(t){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},r.relative=function(t,e){function n(t){for(var e=0;e<t.length&&""===t[e];e++);for(var r=t.length-1;r>=0&&""===t[r];r--);return e>r?[]:t.slice(e,r-e+1)}t=r.resolve(t).substr(1),e=r.resolve(e).substr(1);for(var i=n(t.split("/")),o=n(e.split("/")),a=Math.min(i.length,o.length),s=a,u=0;a>u;u++)if(i[u]!==o[u]){s=u;break}for(var f=[],u=s;u<i.length;u++)f.push("..");return f=f.concat(o.slice(s)),f.join("/")},r.sep="/",r.delimiter=":",r.dirname=function(t){var e=o(t),r=e[0],n=e[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},r.basename=function(t,e){var r=o(t)[2];return e&&r.substr(-1*e.length)===e&&(r=r.substr(0,r.length-e.length)),r},r.extname=function(t){return o(t)[3]};var a="b"==="ab".substr(-1)?function(t,e,r){return t.substr(e,r)}:function(t,e,r){return 0>e&&(e=t.length+e),t.substr(e,r)}}).call(this,t("_process"))},{_process:21}],21:[function(t,e){function r(){}var n=e.exports={};n.nextTick=function(){var t="undefined"!=typeof window&&window.setImmediate,e="undefined"!=typeof window&&window.MutationObserver,r="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(t)return function(t){return window.setImmediate(t)};var n=[];if(e){var i=document.createElement("div"),o=new MutationObserver(function(){var t=n.slice();n.length=0,t.forEach(function(t){t()})});return o.observe(i,{attributes:!0}),function(t){n.length||i.setAttribute("yes","no"),n.push(t)}}return r?(window.addEventListener("message",function(t){var e=t.source;if((e===window||null===e)&&"process-tick"===t.data&&(t.stopPropagation(),n.length>0)){var r=n.shift();r()}},!0),function(t){n.push(t),window.postMessage("process-tick","*")}):function(t){setTimeout(t,0)}}(),n.title="browser",n.browser=!0,n.env={},n.argv=[],n.on=r,n.addListener=r,n.once=r,n.off=r,n.removeListener=r,n.removeAllListeners=r,n.emit=r,n.binding=function(){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(){throw new Error("process.chdir is not supported")}},{}],22:[function(t,e){e.exports=t("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":23}],23:[function(t,e){(function(r){function n(t){return this instanceof n?(u.call(this,t),f.call(this,t),t&&t.readable===!1&&(this.readable=!1),t&&t.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,t&&t.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",i)):new n(t)
}function i(){this.allowHalfOpen||this._writableState.ended||r.nextTick(this.end.bind(this))}function o(t,e){for(var r=0,n=t.length;n>r;r++)e(t[r],r)}e.exports=n;var a=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e},s=t("core-util-is");s.inherits=t("inherits");var u=t("./_stream_readable"),f=t("./_stream_writable");s.inherits(n,u),o(a(f.prototype),function(t){n.prototype[t]||(n.prototype[t]=f.prototype[t])})}).call(this,t("_process"))},{"./_stream_readable":25,"./_stream_writable":27,_process:21,"core-util-is":28,inherits:18}],24:[function(t,e){function r(t){return this instanceof r?void n.call(this,t):new r(t)}e.exports=r;var n=t("./_stream_transform"),i=t("core-util-is");i.inherits=t("inherits"),i.inherits(r,n),r.prototype._transform=function(t,e,r){r(null,t)}},{"./_stream_transform":26,"core-util-is":28,inherits:18}],25:[function(t,e){(function(r){function n(e){e=e||{};var r=e.highWaterMark;this.highWaterMark=r||0===r?r:16384,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=!1,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.calledRead=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!e.objectMode,this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(L||(L=t("string_decoder/").StringDecoder),this.decoder=new L(e.encoding),this.encoding=e.encoding)}function i(t){return this instanceof i?(this._readableState=new n(t,this),this.readable=!0,void S.call(this)):new i(t)}function o(t,e,r,n,i){var o=f(e,r);if(o)t.emit("error",o);else if(null===r||void 0===r)e.reading=!1,e.ended||h(t,e);else if(e.objectMode||r&&r.length>0)if(e.ended&&!i){var s=new Error("stream.push() after EOF");t.emit("error",s)}else if(e.endEmitted&&i){var s=new Error("stream.unshift() after end event");t.emit("error",s)}else!e.decoder||i||n||(r=e.decoder.write(r)),e.length+=e.objectMode?1:r.length,i?e.buffer.unshift(r):(e.reading=!1,e.buffer.push(r)),e.needReadable&&c(t),d(t,e);else i||(e.reading=!1);return a(e)}function a(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}function s(t){if(t>=k)t=k;else{t--;for(var e=1;32>e;e<<=1)t|=t>>e;t++}return t}function u(t,e){return 0===e.length&&e.ended?0:e.objectMode?0===t?0:1:null===t||isNaN(t)?e.flowing&&e.buffer.length?e.buffer[0].length:e.length:0>=t?0:(t>e.highWaterMark&&(e.highWaterMark=s(t)),t>e.length?e.ended?e.length:(e.needReadable=!0,0):t)}function f(t,e){var r=null;return j.isBuffer(e)||"string"==typeof e||null===e||void 0===e||t.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r}function h(t,e){if(e.decoder&&!e.ended){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.length>0?c(t):m(t)}function c(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,e.sync?r.nextTick(function(){l(t)}):l(t))}function l(t){t.emit("readable")}function d(t,e){e.readingMore||(e.readingMore=!0,r.nextTick(function(){p(t,e)}))}function p(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}function g(t){return function(){var e=t._readableState;e.awaitDrain--,0===e.awaitDrain&&v(t)}}function v(t){function e(t){var e=t.write(r);!1===e&&n.awaitDrain++}var r,n=t._readableState;for(n.awaitDrain=0;n.pipesCount&&null!==(r=t.read());)if(1===n.pipesCount?e(n.pipes,0,null):_(n.pipes,e),t.emit("data",r),n.awaitDrain>0)return;return 0===n.pipesCount?(n.flowing=!1,void(x.listenerCount(t,"data")>0&&w(t))):void(n.ranOut=!0)}function y(){this._readableState.ranOut&&(this._readableState.ranOut=!1,v(this))}function w(t,e){var n=t._readableState;if(n.flowing)throw new Error("Cannot switch to old mode now.");var i=e||!1,o=!1;t.readable=!0,t.pipe=S.prototype.pipe,t.on=t.addListener=S.prototype.on,t.on("readable",function(){o=!0;for(var e;!i&&null!==(e=t.read());)t.emit("data",e);null===e&&(o=!1,t._readableState.needReadable=!0)}),t.pause=function(){i=!0,this.emit("pause")},t.resume=function(){i=!1,o?r.nextTick(function(){t.emit("readable")}):this.read(0),this.emit("resume")},t.emit("readable")}function b(t,e){var r,n=e.buffer,i=e.length,o=!!e.decoder,a=!!e.objectMode;if(0===n.length)return null;if(0===i)r=null;else if(a)r=n.shift();else if(!t||t>=i)r=o?n.join(""):j.concat(n,i),n.length=0;else if(t<n[0].length){var s=n[0];r=s.slice(0,t),n[0]=s.slice(t)}else if(t===n[0].length)r=n.shift();else{r=o?"":new j(t);for(var u=0,f=0,h=n.length;h>f&&t>u;f++){var s=n[0],c=Math.min(t-u,s.length);o?r+=s.slice(0,c):s.copy(r,u,0,c),c<s.length?n[0]=s.slice(c):n.shift(),u+=c}}return r}function m(t){var e=t._readableState;if(e.length>0)throw new Error("endReadable called on non-empty stream");!e.endEmitted&&e.calledRead&&(e.ended=!0,r.nextTick(function(){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}))}function _(t,e){for(var r=0,n=t.length;n>r;r++)e(t[r],r)}function A(t,e){for(var r=0,n=t.length;n>r;r++)if(t[r]===e)return r;return-1}e.exports=i;var E=t("isarray"),j=t("buffer").Buffer;i.ReadableState=n;var x=t("events").EventEmitter;x.listenerCount||(x.listenerCount=function(t,e){return t.listeners(e).length});var S=t("stream"),B=t("core-util-is");B.inherits=t("inherits");var L;B.inherits(i,S),i.prototype.push=function(t,e){var r=this._readableState;return"string"!=typeof t||r.objectMode||(e=e||r.defaultEncoding,e!==r.encoding&&(t=new j(t,e),e="")),o(this,r,t,e,!1)},i.prototype.unshift=function(t){var e=this._readableState;return o(this,e,t,"",!0)},i.prototype.setEncoding=function(e){L||(L=t("string_decoder/").StringDecoder),this._readableState.decoder=new L(e),this._readableState.encoding=e};var k=8388608;i.prototype.read=function(t){var e=this._readableState;e.calledRead=!0;var r,n=t;if(("number"!=typeof t||t>0)&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return c(this),null;if(t=u(t,e),0===t&&e.ended)return r=null,e.length>0&&e.decoder&&(r=b(t,e),e.length-=r.length),0===e.length&&m(this),r;var i=e.needReadable;return e.length-t<=e.highWaterMark&&(i=!0),(e.ended||e.reading)&&(i=!1),i&&(e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1),i&&!e.reading&&(t=u(n,e)),r=t>0?b(t,e):null,null===r&&(e.needReadable=!0,t=0),e.length-=t,0!==e.length||e.ended||(e.needReadable=!0),e.ended&&!e.endEmitted&&0===e.length&&m(this),r},i.prototype._read=function(){this.emit("error",new Error("not implemented"))},i.prototype.pipe=function(t,e){function n(t){t===h&&o()}function i(){t.end()}function o(){t.removeListener("close",s),t.removeListener("finish",u),t.removeListener("drain",p),t.removeListener("error",a),t.removeListener("unpipe",n),h.removeListener("end",i),h.removeListener("end",o),(!t._writableState||t._writableState.needDrain)&&p()}function a(e){f(),t.removeListener("error",a),0===x.listenerCount(t,"error")&&t.emit("error",e)}function s(){t.removeListener("finish",u),f()}function u(){t.removeListener("close",s),f()}function f(){h.unpipe(t)}var h=this,c=this._readableState;switch(c.pipesCount){case 0:c.pipes=t;break;case 1:c.pipes=[c.pipes,t];break;default:c.pipes.push(t)}c.pipesCount+=1;var l=(!e||e.end!==!1)&&t!==r.stdout&&t!==r.stderr,d=l?i:o;c.endEmitted?r.nextTick(d):h.once("end",d),t.on("unpipe",n);var p=g(h);return t.on("drain",p),t._events&&t._events.error?E(t._events.error)?t._events.error.unshift(a):t._events.error=[a,t._events.error]:t.on("error",a),t.once("close",s),t.once("finish",u),t.emit("pipe",h),c.flowing||(this.on("readable",y),c.flowing=!0,r.nextTick(function(){v(h)})),t},i.prototype.unpipe=function(t){var e=this._readableState;if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,this.removeListener("readable",y),e.flowing=!1,t&&t.emit("unpipe",this),this);if(!t){var r=e.pipes,n=e.pipesCount;e.pipes=null,e.pipesCount=0,this.removeListener("readable",y),e.flowing=!1;for(var i=0;n>i;i++)r[i].emit("unpipe",this);return this}var i=A(e.pipes,t);return-1===i?this:(e.pipes.splice(i,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this),this)},i.prototype.on=function(t,e){var r=S.prototype.on.call(this,t,e);if("data"!==t||this._readableState.flowing||w(this),"readable"===t&&this.readable){var n=this._readableState;n.readableListening||(n.readableListening=!0,n.emittedReadable=!1,n.needReadable=!0,n.reading?n.length&&c(this,n):this.read(0))}return r},i.prototype.addListener=i.prototype.on,i.prototype.resume=function(){w(this),this.read(0),this.emit("resume")},i.prototype.pause=function(){w(this,!0),this.emit("pause")},i.prototype.wrap=function(t){var e=this._readableState,r=!1,n=this;t.on("end",function(){if(e.decoder&&!e.ended){var t=e.decoder.end();t&&t.length&&n.push(t)}n.push(null)}),t.on("data",function(i){if(e.decoder&&(i=e.decoder.write(i)),(!e.objectMode||null!==i&&void 0!==i)&&(e.objectMode||i&&i.length)){var o=n.push(i);o||(r=!0,t.pause())}});for(var i in t)"function"==typeof t[i]&&"undefined"==typeof this[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));var o=["error","close","destroy","pause","resume"];return _(o,function(e){t.on(e,n.emit.bind(n,e))}),n._read=function(){r&&(r=!1,t.resume())},n},i._fromList=b}).call(this,t("_process"))},{_process:21,buffer:13,"core-util-is":28,events:17,inherits:18,isarray:19,stream:33,"string_decoder/":34}],26:[function(t,e){function r(t,e){this.afterTransform=function(t,r){return n(e,t,r)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function n(t,e,r){var n=t._transformState;n.transforming=!1;var i=n.writecb;if(!i)return t.emit("error",new Error("no writecb in Transform class"));n.writechunk=null,n.writecb=null,null!==r&&void 0!==r&&t.push(r),i&&i(e);var o=t._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&t._read(o.highWaterMark)}function i(t){if(!(this instanceof i))return new i(t);a.call(this,t);var e=(this._transformState=new r(t,this),this);this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("finish",function(){"function"==typeof this._flush?this._flush(function(t){o(e,t)}):o(e)})}function o(t,e){if(e)return t.emit("error",e);var r=t._writableState,n=(t._readableState,t._transformState);if(r.length)throw new Error("calling transform done when ws.length != 0");if(n.transforming)throw new Error("calling transform done when still transforming");return t.push(null)}e.exports=i;var a=t("./_stream_duplex"),s=t("core-util-is");s.inherits=t("inherits"),s.inherits(i,a),i.prototype.push=function(t,e){return this._transformState.needTransform=!1,a.prototype.push.call(this,t,e)},i.prototype._transform=function(){throw new Error("not implemented")},i.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},i.prototype._read=function(){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0}},{"./_stream_duplex":23,"core-util-is":28,inherits:18}],27:[function(t,e){(function(r){function n(t,e,r){this.chunk=t,this.encoding=e,this.callback=r}function i(t,e){t=t||{};var r=t.highWaterMark;this.highWaterMark=r||0===r?r:16384,this.objectMode=!!t.objectMode,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var n=t.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){d(e,t)},this.writecb=null,this.writelen=0,this.buffer=[],this.errorEmitted=!1}function o(e){var r=t("./_stream_duplex");return this instanceof o||this instanceof r?(this._writableState=new i(e,this),this.writable=!0,void A.call(this)):new o(e)}function a(t,e,n){var i=new Error("write after end");t.emit("error",i),r.nextTick(function(){n(i)})}function s(t,e,n,i){var o=!0;if(!m.isBuffer(n)&&"string"!=typeof n&&null!==n&&void 0!==n&&!e.objectMode){var a=new TypeError("Invalid non-string/buffer chunk");t.emit("error",a),r.nextTick(function(){i(a)}),o=!1}return o}function u(t,e,r){return t.objectMode||t.decodeStrings===!1||"string"!=typeof e||(e=new m(e,r)),e}function f(t,e,r,i,o){r=u(e,r,i),m.isBuffer(r)&&(i="buffer");var a=e.objectMode?1:r.length;e.length+=a;var s=e.length<e.highWaterMark;return s||(e.needDrain=!0),e.writing?e.buffer.push(new n(r,i,o)):h(t,e,a,r,i,o),s}function h(t,e,r,n,i,o){e.writelen=r,e.writecb=o,e.writing=!0,e.sync=!0,t._write(n,i,e.onwrite),e.sync=!1}function c(t,e,n,i,o){n?r.nextTick(function(){o(i)}):o(i),t._writableState.errorEmitted=!0,t.emit("error",i)}function l(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function d(t,e){var n=t._writableState,i=n.sync,o=n.writecb;if(l(n),e)c(t,n,i,e,o);else{var a=y(t,n);a||n.bufferProcessing||!n.buffer.length||v(t,n),i?r.nextTick(function(){p(t,n,a,o)}):p(t,n,a,o)}}function p(t,e,r,n){r||g(t,e),n(),r&&w(t,e)}function g(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function v(t,e){e.bufferProcessing=!0;for(var r=0;r<e.buffer.length;r++){var n=e.buffer[r],i=n.chunk,o=n.encoding,a=n.callback,s=e.objectMode?1:i.length;if(h(t,e,s,i,o,a),e.writing){r++;break}}e.bufferProcessing=!1,r<e.buffer.length?e.buffer=e.buffer.slice(r):e.buffer.length=0}function y(t,e){return e.ending&&0===e.length&&!e.finished&&!e.writing}function w(t,e){var r=y(t,e);return r&&(e.finished=!0,t.emit("finish")),r}function b(t,e,n){e.ending=!0,w(t,e),n&&(e.finished?r.nextTick(n):t.once("finish",n)),e.ended=!0}e.exports=o;var m=t("buffer").Buffer;o.WritableState=i;var _=t("core-util-is");_.inherits=t("inherits");var A=t("stream");_.inherits(o,A),o.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},o.prototype.write=function(t,e,r){var n=this._writableState,i=!1;return"function"==typeof e&&(r=e,e=null),m.isBuffer(t)?e="buffer":e||(e=n.defaultEncoding),"function"!=typeof r&&(r=function(){}),n.ended?a(this,n,r):s(this,n,t,r)&&(i=f(this,n,t,e,r)),i},o.prototype._write=function(t,e,r){r(new Error("not implemented"))},o.prototype.end=function(t,e,r){var n=this._writableState;"function"==typeof t?(r=t,t=null,e=null):"function"==typeof e&&(r=e,e=null),"undefined"!=typeof t&&null!==t&&this.write(t,e),n.ending||n.finished||b(this,n,r)}}).call(this,t("_process"))},{"./_stream_duplex":23,_process:21,buffer:13,"core-util-is":28,inherits:18,stream:33}],28:[function(t,e,r){(function(t){function e(t){return Array.isArray(t)}function n(t){return"boolean"==typeof t}function i(t){return null===t}function o(t){return null==t}function a(t){return"number"==typeof t}function s(t){return"string"==typeof t}function u(t){return"symbol"==typeof t}function f(t){return void 0===t}function h(t){return c(t)&&"[object RegExp]"===y(t)}function c(t){return"object"==typeof t&&null!==t}function l(t){return c(t)&&"[object Date]"===y(t)}function d(t){return c(t)&&("[object Error]"===y(t)||t instanceof Error)}function p(t){return"function"==typeof t}function g(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function v(e){return t.isBuffer(e)}function y(t){return Object.prototype.toString.call(t)}r.isArray=e,r.isBoolean=n,r.isNull=i,r.isNullOrUndefined=o,r.isNumber=a,r.isString=s,r.isSymbol=u,r.isUndefined=f,r.isRegExp=h,r.isObject=c,r.isDate=l,r.isError=d,r.isFunction=p,r.isPrimitive=g,r.isBuffer=v}).call(this,t("buffer").Buffer)},{buffer:13}],29:[function(t,e){e.exports=t("./lib/_stream_passthrough.js")},{"./lib/_stream_passthrough.js":24}],30:[function(t,e,r){var n=t("stream");r=e.exports=t("./lib/_stream_readable.js"),r.Stream=n,r.Readable=r,r.Writable=t("./lib/_stream_writable.js"),r.Duplex=t("./lib/_stream_duplex.js"),r.Transform=t("./lib/_stream_transform.js"),r.PassThrough=t("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":23,"./lib/_stream_passthrough.js":24,"./lib/_stream_readable.js":25,"./lib/_stream_transform.js":26,"./lib/_stream_writable.js":27,stream:33}],31:[function(t,e){e.exports=t("./lib/_stream_transform.js")},{"./lib/_stream_transform.js":26}],32:[function(t,e){e.exports=t("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":27}],33:[function(t,e){function r(){n.call(this)}e.exports=r;var n=t("events").EventEmitter,i=t("inherits");i(r,n),r.Readable=t("readable-stream/readable.js"),r.Writable=t("readable-stream/writable.js"),r.Duplex=t("readable-stream/duplex.js"),r.Transform=t("readable-stream/transform.js"),r.PassThrough=t("readable-stream/passthrough.js"),r.Stream=r,r.prototype.pipe=function(t,e){function r(e){t.writable&&!1===t.write(e)&&f.pause&&f.pause()}function i(){f.readable&&f.resume&&f.resume()}function o(){h||(h=!0,t.end())}function a(){h||(h=!0,"function"==typeof t.destroy&&t.destroy())}function s(t){if(u(),0===n.listenerCount(this,"error"))throw t}function u(){f.removeListener("data",r),t.removeListener("drain",i),f.removeListener("end",o),f.removeListener("close",a),f.removeListener("error",s),t.removeListener("error",s),f.removeListener("end",u),f.removeListener("close",u),t.removeListener("close",u)}var f=this;f.on("data",r),t.on("drain",i),t._isStdio||e&&e.end===!1||(f.on("end",o),f.on("close",a));var h=!1;return f.on("error",s),t.on("error",s),f.on("end",u),f.on("close",u),t.on("close",u),t.emit("pipe",f),t}},{events:17,inherits:18,"readable-stream/duplex.js":22,"readable-stream/passthrough.js":29,"readable-stream/readable.js":30,"readable-stream/transform.js":31,"readable-stream/writable.js":32}],34:[function(t,e,r){function n(t){if(t&&!u(t))throw new Error("Unknown encoding: "+t)}function i(t){return t.toString(this.encoding)}function o(t){this.charReceived=t.length%2,this.charLength=this.charReceived?2:0}function a(t){this.charReceived=t.length%3,this.charLength=this.charReceived?3:0}var s=t("buffer").Buffer,u=s.isEncoding||function(t){switch(t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},f=r.StringDecoder=function(t){switch(this.encoding=(t||"utf8").toLowerCase().replace(/[-_]/,""),n(t),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=o;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=a;break;default:return void(this.write=i)}this.charBuffer=new s(6),this.charReceived=0,this.charLength=0};f.prototype.write=function(t){for(var e="";this.charLength;){var r=t.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:t.length;if(t.copy(this.charBuffer,this.charReceived,0,r),this.charReceived+=r,this.charReceived<this.charLength)return"";t=t.slice(r,t.length),e=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var n=e.charCodeAt(e.length-1);if(!(n>=55296&&56319>=n)){if(this.charReceived=this.charLength=0,0===t.length)return e;break}this.charLength+=this.surrogateSize,e=""}this.detectIncompleteChar(t);var i=t.length;this.charLength&&(t.copy(this.charBuffer,0,t.length-this.charReceived,i),i-=this.charReceived),e+=t.toString(this.encoding,0,i);var i=e.length-1,n=e.charCodeAt(i);if(n>=55296&&56319>=n){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),t.copy(this.charBuffer,0,0,o),e.substring(0,i)}return e},f.prototype.detectIncompleteChar=function(t){for(var e=t.length>=3?3:t.length;e>0;e--){var r=t[t.length-e];if(1==e&&r>>5==6){this.charLength=2;break}if(2>=e&&r>>4==14){this.charLength=3;break}if(3>=e&&r>>3==30){this.charLength=4;break}}this.charReceived=e},f.prototype.end=function(t){var e="";if(t&&t.length&&(e=this.write(t)),this.charReceived){var r=this.charReceived,n=this.charBuffer,i=this.encoding;e+=n.slice(0,r).toString(i)}return e}},{buffer:13}],"get-pixels":[function(t,e){(function(r,n){"use strict";function i(t,e){var r=new Image;r.onload=function(){var t=document.createElement("canvas");t.width=r.width,t.height=r.height;var n=t.getContext("2d");n.drawImage(r,0,0);var i=n.getImageData(0,0,r.width,r.height);e(null,h(new Uint8Array(i.data),[r.width,r.height,4],[4,4*r.width,1],0))},r.onerror=function(t){e(t)},r.src=t}function o(t,e){var r;try{r=new c(t)}catch(n){return void e(n)}if(r.numFrames()>0){var i=[r.numFrames(),r.height,r.width,4],o=new Uint8Array(i[0]*i[1]*i[2]*i[3]),a=h(o,i);try{for(var s=0;s<r.numFrames();++s)r.decodeAndBlitFrameRGBA(s,o.subarray(a.index(s,0,0,0),a.index(s+1,0,0,0)))}catch(n){return void e(n)}e(null,a.transpose(0,2,1))}else{var i=[r.height,r.width,4],o=new Uint8Array(i[0]*i[1]*i[2]),a=h(o,i);try{r.decodeAndBlitFrameRGBA(0,o)}catch(n){return void e(n)}e(null,a.transpose(1,0))}}function a(t,e){var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.overrideMimeType("application/binary"),r.onerror=function(t){e(t)},r.onload=function(){if(4===r.readyState){var t=new Uint8Array(r.response);o(t,e)}},r.send()}function s(t){if(void 0===t[0]){for(var e=t.length,r=new Uint8Array(e),n=0;e>n;++n)r[n]=t.get(n);return r}return new Uint8Array(t)}function u(t,e){r.nextTick(function(){try{var r=l(t);r?o(s(r),e):e(new Error("Error parsing data URI"))}catch(n){e(n)}})}var f=t("path"),h=t("ndarray"),c=t("omggif").GifReader,l=(t("ndarray-pack"),t("through"),t("data-uri-to-buffer"));e.exports=function(t,e,r){r||(r=e,e="");var o=f.extname(t);switch(e||o.toUpperCase()){case".GIF":a(t,r);break;default:n.isBuffer(t)&&(t="data:"+e+";base64,"+t.toString("base64")),0===t.indexOf("data:image/gif;")?u(t,r):i(t,r)}}}).call(this,t("_process"),t("buffer").Buffer)},{_process:21,buffer:13,"data-uri-to-buffer":1,ndarray:8,"ndarray-pack":2,omggif:10,path:20,through:11}],"gify-parse":[function(t,e){var r=t("jdataview"),n=function(){"use strict";function t(t){return 3*Math.pow(2,1+i(t.slice(5,8)))}function e(t){for(var e=[],r=7;r>=0;r--)e.push(t&1<<r?1:0);return e}function n(t){return t/100*1e3}function i(t){return t.reduce(function(t,e){return 2*t+e},0)}function o(t,e,r){for(var n={data:"",size:0};;){var i=t.getUint8(e+n.size,!0);if(0===i){n.size++;break}r&&(n.data+=t.getString(i,e+n.size+1)),n.size+=i+1}return n}function a(){return{identifier:"0",localPalette:!1,localPaletteSize:0,interlace:!1,comments:[],text:"",left:0,top:0,width:0,height:0,delay:0,disposal:0}}function s(i,s){var f,h,c=0,l=0,d={valid:!1,globalPalette:!1,globalPaletteSize:0,loopCount:0,height:0,width:0,animated:!1,images:[],isBrowserDuration:!1,duration:0,durationIE:0,durationSafari:0,durationFirefox:0,durationChrome:0,durationOpera:0},p=new r(i);if(i.byteLength<10)return d;if(18249!=p.getUint16(0)||17976!=p.getUint16(2))return d;if(d.height=p.getUint16(6,!0),d.width=p.getUint16(8,!0),d.valid=!0,f=e(p.getUint8(10,!0)),f[0]){var g=t(f);d.globalPalette=!0,d.globalPaletteSize=g/3,c+=g}c+=13;for(var v=a();;){try{var y=p.getUint8(c,!0);switch(y){case 33:var w=p.getUint8(c+1,!0);if(249===w){var b=p.getUint8(c+2);if(4===b){var m=n(p.getUint16(c+4,!0));60>m&&!d.isBrowserDuration&&(d.isBrowserDuration=!0),v.delay=m,d.duration+=m,d.durationIE+=60>m?u:m,d.durationSafari+=20>m?u:m,d.durationChrome+=20>m?u:m,d.durationFirefox+=20>m?u:m,d.durationOpera+=20>m?u:m,f=e(p.getUint8(c+3));var _=f.slice(3,6).join("");v.disposal=parseInt(_,2),c+=8}else c++}else{switch(c+=2,h=o(p,c,!0),w){case 255:d.loopCount=p.getUint8(c+16,!0);break;case 206:v.identifier=h.data;break;case 254:v.comments.push(h.data);break;case 1:v.text=h.data}c+=h.size}break;case 44:if(v.left=p.getUint16(c+1,!0),v.top=p.getUint16(c+3,!0),v.width=p.getUint16(c+5,!0),v.height=p.getUint16(c+7,!0),f=e(p.getUint8(c+9,!0)),f[0]){var A=t(f);v.localPalette=!0,v.localPaletteSize=A/3,c+=A}if(f[1]&&(v.interlace=!0),d.images.push(v),l++,v=a(),v.identifier=l.toString(),d.images.length>1&&!d.animated&&(d.animated=!0,s))return d;c+=11,h=o(p,c,!1),c+=h.size;break;case 59:return d;default:c++}}catch(E){return d.valid=!1,d}if(c>=i.byteLength)return d}}var u=100;return{isAnimated:function(t){var e=s(t,!0);return e.animated},getInfo:function(t){return s(t,!1)}}}();e.exports=n},{jdataview:12}]},{},[]);